(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{oNin:function(t,e,n){"use strict";n.r(e),n.d(e,"EventoPageModule",function(){return g});var i=n("ofXK"),o=n("3Pt+"),s=n("TEn/"),r=n("tyNb"),a=n("mrSG"),c=n("sZxV"),l=n("YAOL"),b=n("wd/R"),d=n("fXoL"),u=n("662k");function v(t,e){1&t&&(d.Ob(0,"h2"),d.ic(1," N\xe3o h\xe1 eventos cadastrados."),d.Nb())}function h(t,e){if(1&t){const t=d.Pb();d.Ob(0,"ion-searchbar",8),d.Wb("ionChange",function(e){return d.ec(t),d.Yb().pesquisarEvento(e)}),d.Nb()}}function m(t,e){if(1&t){const t=d.Pb();d.Ob(0,"ion-item-sliding"),d.Ob(1,"ion-item",9),d.Ob(2,"ion-label",10),d.Ob(3,"h1",11),d.ic(4),d.Nb(),d.ic(5),d.Nb(),d.Nb(),d.Ob(6,"ion-item-options",12),d.Ob(7,"button",13),d.Wb("click",function(){d.ec(t);const n=e.$implicit;return d.Yb().editarEvento(n)}),d.Mb(8,"ion-icon",14),d.Nb(),d.Ob(9,"button",15),d.Wb("click",function(){d.ec(t);const n=e.$implicit;return d.Yb().confirmarExclusao(n)}),d.Mb(10,"ion-icon",16),d.Nb(),d.Nb(),d.Nb()}if(2&t){const t=e.$implicit;d.Bb(4),d.jc(t.nome),d.Bb(1),d.kc(" ",t.responsavel?"Respons\xe1vel: ".concat(t.responsavel):""," ")}}const f=[{path:"",component:(()=>{class t{constructor(t,e,n,i){this.eventoService=t,this.aviso=e,this.navCtrl=n,this.alertController=i,b.locale("pt-br"),this.inicializar()}inicializar(){this.mensagens=new c.a(this.aviso),this.redirecionador=new l.a(this.navCtrl),this.listaEventosObservable=this.eventoService.listar(),this.listaEventosObservable.subscribe(t=>Object(a.b)(this,void 0,void 0,function*(){this.listaEventos=yield this.verificarEventosExpirados(t),this.listaEventosFiltrados=this.listaEventos,this.numTotalEventos=this.listaEventos?this.listaEventos.length:0,this.listaEventosFiltrados=this.listaEventosFiltrados?this.listaEventosFiltrados.sort((t,e)=>b.utc(e.data).diff(b.utc(t.data))):new Array}))}confirmarExclusao(t){return Object(a.b)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Confirma\xe7\xe3o de exclus\xe3o",message:"Tem certeza que deseja excluir o evento selecionado?",buttons:[{text:"N\xe3o",handler:()=>{this.alertController.dismiss()}},{text:"Sim",handler:()=>{this.excluirEvento(t)}}]});yield e.present()})}excluirEvento(t){this.eventoService.deletar(t.key),this.mensagens.mensagemSucesso("Evento exclu\xeddo com sucesso!"),this.inicializar()}editarEvento(t){this.navCtrl.navigateForward("/editar/evento",{state:{content:t}})}pesquisarEvento(t){this.listaEventosFiltrados=this.listaEventos;const e=t.detail.value;e&&""!==e.trim()&&(this.listaEventosFiltrados=this.listaEventosFiltrados.filter(t=>t.nome.toUpperCase().indexOf(e.trim().toUpperCase())>-1))}verificarEventosExpirados(t){return Object(a.b)(this,void 0,void 0,function*(){var e=new Array;return yield t.forEach(t=>{b(t.data).isBefore(b(new Date))||e.push(t)}),e})}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(u.a),d.Lb(s.M),d.Lb(s.H),d.Lb(s.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-evento"]],decls:14,vars:4,consts:[["color","primary"],["slot","start"],["defaultHref","inicio"],["padding",""],[4,"ngIf"],["placeholder","Digite o nome do evento","color","tertiary",3,"ionChange",4,"ngIf"],["align-items-center","","justify-content-center",""],[4,"ngFor","ngForOf"],["placeholder","Digite o nome do evento","color","tertiary",3,"ionChange"],["text-wrap","",1,"item-text-wrap"],["text-wrap","",1,"informacao-membro"],[1,"content-title"],["side","start"],["ion-button","",1,"bt-editar",3,"click"],["name","create",1,"icones"],["ion-button","",1,"bt-deletar",3,"click"],["name","trash",1,"icones"]],template:function(t,e){1&t&&(d.Ob(0,"ion-header"),d.Ob(1,"ion-toolbar",0),d.Ob(2,"ion-buttons",1),d.Mb(3,"ion-back-button",2),d.Nb(),d.Ob(4,"ion-title"),d.ic(5),d.Nb(),d.Nb(),d.Nb(),d.Ob(6,"ion-content",3),d.hc(7,v,2,0,"h2",4),d.hc(8,h,1,0,"ion-searchbar",5),d.Ob(9,"ion-grid"),d.Ob(10,"ion-row",6),d.Ob(11,"ion-col"),d.Ob(12,"ion-list"),d.hc(13,m,11,2,"ion-item-sliding",7),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb()),2&t&&(d.Bb(5),d.kc("Total de eventos: ",e.numTotalEventos,""),d.Bb(2),d.bc("ngIf",0==e.numTotalEventos),d.Bb(1),d.bc("ngIf",e.numTotalEventos>0),d.Bb(5),d.bc("ngForOf",e.listaEventosFiltrados))},directives:[s.l,s.E,s.g,s.d,s.e,s.D,s.i,i.j,s.k,s.v,s.h,s.s,i.i,s.w,s.L,s.q,s.o,s.r,s.p,s.m],styles:["ion-searchbar[_ngcontent-%COMP%]{margin-top:15px;display:block;margin-left:auto;margin-right:auto;font-family:Rubik,sans-serif}.informacao-membro[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:Lexend,sans-serif}h2[_ngcontent-%COMP%]{color:#a57d51;text-align:center}h1[_ngcontent-%COMP%]{font-size:20px}.bt-editar[_ngcontent-%COMP%]{background:#2e2e3c}.bt-deletar[_ngcontent-%COMP%]{background:#a57d51}.icones[_ngcontent-%COMP%]{color:#fff;font-size:20px}"]}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({imports:[[r.i.forChild(f)],r.i]}),t})(),g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({imports:[[i.c,o.e,s.F,p]]}),t})()},sZxV:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("mrSG");class o{constructor(t){this.aviso=t}mensagemSucesso(t){return Object(i.b)(this,void 0,void 0,function*(){const e=this.aviso.create({id:"sucesso",position:"top",message:t,duration:3e3,color:"success"});(yield e).present()})}mensagemError(t){return Object(i.b)(this,void 0,void 0,function*(){const e=this.aviso.create({id:"error",position:"top",message:t,duration:3e3,color:"danger"});(yield e).present()})}mensagemAlerta(t){return Object(i.b)(this,void 0,void 0,function*(){const e=this.aviso.create({id:"alerta",position:"top",message:t,duration:3e3,color:"warning"});(yield e).present()})}}}}]);
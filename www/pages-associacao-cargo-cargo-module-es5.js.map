{"version":3,"sources":["webpack:///src/app/pages/associacao/cargo/cargo.page.html","webpack:///src/app/mapper/Cargo.ts","webpack:///src/app/pages/associacao/cargo/cargo.page.scss","webpack:///src/app/pages/associacao/cargo/cargo-routing.module.ts","webpack:///src/app/pages/associacao/cargo/cargo.module.ts","webpack:///src/app/pages/associacao/cargo/cargo.page.ts"],"names":["CargoMapper","form","cargo","nome","toString","toUpperCase","descricao","key","responsavel","dataInicio","dataInicioResponsavel","dataFim","dataFimResponsavel","routes","path","component","CargoPageRoutingModule","imports","forChild","exports","CargoPageModule","declarations","CargoPage","formulador","membroService","aviso","cargoService","router","mensagens","nav","getCurrentNavigation","extras","state","content","ajustarDatas","inicializar","listaMembrosObservable","listar","subscribe","response","membrosAtivos","filter","m","situacao","sort","a","b","nomeCompleto","criarFormulario","formulario","controls","setValue","group","required","includes","dateFormatterBrazil","value","isDataFimEnable","enable","verificarIsDataValida","mensagemError","isDataFutura","isDataDoisMaiorDataUm","isDatasIguais","numeroDiasEntreDuasDatas","formularioToCargo","adicionarOuAtualizar","mensagemSucesso","event","dataInicial","target","calcularData","valor","disable","selector","template"],"mappings":"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","file":"pages-associacao-cargo-cargo-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar color=\\\"primary\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button defaultHref=\\\"inicio\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Associar cargo</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n    <form [formGroup]=\\\"formulario\\\">\\r\\n        <ion-grid>\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"row-item\\\">\\r\\n                        <ion-label mode=\\\"md\\\" class=\\\"titulo-dado\\\" position=\\\"stacked\\\">Cargo</ion-label>\\r\\n                        <ion-input mode=\\\"md\\\" [disabled]=\\\"true\\\" formControlName=\\\"nome\\\" type=\\\"text\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-label mode=\\\"md\\\" class=\\\"titulo-dado-select\\\" position=\\\"stacked\\\">Responsável</ion-label>\\r\\n                    <ion-select [selectedText]=\\\"formulario.get('responsavel').value\\\" placeholder=\\\"Selecione uma opção\\\" formControlName=\\\"responsavel\\\" multiple=\\\"false\\\" interface=\\\"popover\\\">\\r\\n                        <ion-select-option *ngFor=\\\"let item of membrosAtivos\\\" [value]=\\\"item.nomeCompleto\\\">\\r\\n                            {{item.nomeCompleto}}\\r\\n                        </ion-select-option>\\r\\n                    </ion-select>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"row-item\\\">\\r\\n                        <ion-label mode=\\\"md\\\" class=\\\"titulo-dado\\\" position=\\\"stacked\\\">Data Início</ion-label>\\r\\n                        <ion-input mode=\\\"md\\\" (ionBlur)=\\\"calcularDataFinal($event)\\\" formControlName=\\\"dataInicio\\\" maxlength=\\\"10\\\" [brmasker]=\\\"{mask:'00/00/0000', len:10}\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"row-item\\\">\\r\\n                        <ion-label mode=\\\"md\\\" class=\\\"titulo-dado\\\" position=\\\"stacked\\\">Data Fim</ion-label>\\r\\n                        <ion-input mode=\\\"md\\\" formControlName=\\\"dataFim\\\" maxlength=\\\"10\\\" [brmasker]=\\\"{mask:'00/00/0000', len:10}\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n        </ion-grid>\\r\\n    </form>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-no-border\\\">\\r\\n    <ion-toolbar no-padding id=\\\"rodape\\\">\\r\\n        <ion-grid>\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-button mode=\\\"md\\\" (click)=\\\"associar()\\\" [disabled]=\\\"formulario.invalid\\\" type=\\\"submit\\\" fill=\\\"solid\\\" expand=\\\"full\\\"> Associar</ion-button>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n        </ion-grid>\\r\\n    </ion-toolbar>\\r\\n</ion-footer>\";","import { Cargo } from '../modelo/Cargo';\r\n\r\nexport class CargoMapper {\r\n  public static formularioToCargo(form: any): Cargo {\r\n      \r\n    let cargo = new Cargo();\r\n    cargo.nome = form.nome.toString().toUpperCase();\r\n    cargo.descricao = form.descricao.toString().toUpperCase();\r\n    cargo.key = form.key;\r\n    if (form.responsavel) cargo.responsavel = form.responsavel;\r\n    if (form.dataInicio) cargo.dataInicioResponsavel = form.dataInicio;\r\n    if (form.dataFim) cargo.dataFimResponsavel = form.dataFim;\r\n\r\n    return cargo;\r\n  }\r\n}\r\n","export default \"ion-content,\\nion-item,\\nion-input,\\nion-select,\\n.titulo-dado,\\n.titulo-dado-select,\\n.titulo-dado-select-acesso,\\n.titulo-dado-batismo {\\n  font-family: \\\"Rubik\\\", sans-serif;\\n}\\n\\nion-content,\\nion-item,\\n#rodape {\\n  --background: #e6e6e6;\\n}\\n\\nion-select,\\nion-input,\\n.titulo-dado,\\n.titulo-dado-select-acesso,\\n.titulo-dado-select,\\nh2 {\\n  color: #2e2e3c;\\n}\\n\\nion-title, h2 {\\n  font-family: \\\"Lexend\\\", sans-serif;\\n}\\n\\nion-input {\\n  text-transform: uppercase;\\n  font-size: 9pt;\\n}\\n\\nion-select {\\n  font-size: 10pt;\\n}\\n\\n#cabecalho {\\n  --background: #2e2e3c;\\n  color: #fff;\\n}\\n\\n.titulo-dado {\\n  font-size: 11pt;\\n}\\n\\n.titulo-dado-select,\\n.titulo-dado-select-acesso,\\n.titulo-dado-batismo {\\n  font-size: 8.3pt;\\n}\\n\\n.titulo-dado-select {\\n  margin-left: 1%;\\n}\\n\\n.titulo-dado-batismo {\\n  margin-left: 4%;\\n}\\n\\nh2 {\\n  font-size: 13pt;\\n  font-weight: bolder;\\n  margin-left: 1%;\\n}\\n\\nspan {\\n  color: #eb445a;\\n}\\n\\n::ng-deep .mycomponent-wider-popover {\\n  --width: 95%;\\n  --max-width: 600px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcY2FyZ28ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztFQVFHLGdDQUFBO0FBQ0g7O0FBRUE7OztFQUdJLHFCQUFBO0FBQ0o7O0FBRUE7Ozs7OztFQU1JLGNBQUE7QUFDSjs7QUFFQTtFQUNJLGlDQUFBO0FBQ0o7O0FBRUE7RUFDSSx5QkFBQTtFQUNBLGNBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtBQUNKOztBQUVDOzs7RUFHRyxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQUNKOztBQUVBO0VBQ0ksY0FBQTtBQUNKOztBQUVBO0VBRUUsWUFBQTtFQUNBLGtCQUFBO0FBQUYiLCJmaWxlIjoiY2FyZ28ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQsICBcclxuaW9uLWl0ZW0sIFxyXG5pb24taW5wdXQsIFxyXG5pb24tc2VsZWN0LFxyXG4udGl0dWxvLWRhZG8sXHJcbi50aXR1bG8tZGFkby1zZWxlY3QsXHJcbi50aXR1bG8tZGFkby1zZWxlY3QtYWNlc3NvLFxyXG4udGl0dWxvLWRhZG8tYmF0aXNtbyB7XHJcbiAgIGZvbnQtZmFtaWx5OiAnUnViaWsnLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG5pb24tY29udGVudCwgXHJcbmlvbi1pdGVtLFxyXG4jcm9kYXBlIHtcclxuICAgIC0tYmFja2dyb3VuZDogI2U2ZTZlNjtcclxufVxyXG5cclxuaW9uLXNlbGVjdCxcclxuaW9uLWlucHV0LFxyXG4udGl0dWxvLWRhZG8sXHJcbi50aXR1bG8tZGFkby1zZWxlY3QtYWNlc3NvLFxyXG4udGl0dWxvLWRhZG8tc2VsZWN0LFxyXG5oMiB7XHJcbiAgICBjb2xvcjojMmUyZTNjO1xyXG59IFxyXG5cclxuaW9uLXRpdGxlLCBoMntcclxuICAgIGZvbnQtZmFtaWx5OiAnTGV4ZW5kJywgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuaW9uLWlucHV0e1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgIGZvbnQtc2l6ZTogOXB0O1xyXG4gfVxyXG5cclxuaW9uLXNlbGVjdHtcclxuICAgIGZvbnQtc2l6ZTogMTBwdDtcclxufVxyXG5cclxuI2NhYmVjYWxob3tcclxuICAgIC0tYmFja2dyb3VuZDogIzJlMmUzYzsgXHJcbiAgICBjb2xvcjogI2ZmZjtcclxufVxyXG4gICAgXHJcbi50aXR1bG8tZGFkb3tcclxuICAgIGZvbnQtc2l6ZTogMTFwdDtcclxuIH1cclxuXHJcbiAudGl0dWxvLWRhZG8tc2VsZWN0LFxyXG4gLnRpdHVsby1kYWRvLXNlbGVjdC1hY2Vzc28sXHJcbiAudGl0dWxvLWRhZG8tYmF0aXNtb3tcclxuICAgIGZvbnQtc2l6ZTogOC4zcHQ7XHJcbiB9XHJcblxyXG4udGl0dWxvLWRhZG8tc2VsZWN0e1xyXG4gICAgbWFyZ2luLWxlZnQ6IDElOyAgXHJcbn1cclxuXHJcbi50aXR1bG8tZGFkby1iYXRpc21ve1xyXG4gICAgbWFyZ2luLWxlZnQ6IDQlOyAgXHJcbn1cclxuIFxyXG5oMiB7XHJcbiAgICBmb250LXNpemU6MTNwdDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XHJcbiAgICBtYXJnaW4tbGVmdDoxJTtcclxufVxyXG5cclxuc3BhbiB7XHJcbiAgICBjb2xvcjogI2ViNDQ1YTtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5teWNvbXBvbmVudC13aWRlci1wb3BvdmVyXHJcbntcclxuICAtLXdpZHRoOiA5NSU7XHJcbiAgLS1tYXgtd2lkdGg6IDYwMHB4O1xyXG59Il19 */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CargoPage } from './cargo.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CargoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CargoPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CargoPageRoutingModule } from './cargo-routing.module';\r\n\r\nimport { CargoPage } from './cargo.page';\r\nimport { BrMaskerModule } from 'br-mask';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CargoPageRoutingModule,\r\n    ReactiveFormsModule,\r\n    BrMaskerModule,\r\n  ],\r\n  declarations: [CargoPage]\r\n})\r\nexport class CargoPageModule {}\r\n","import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { Observable } from 'rxjs';\r\nimport { CargoMapper } from 'src/app/mapper/Cargo';\r\nimport { Cargo } from 'src/app/modelo/Cargo';\r\nimport { Membro } from 'src/app/modelo/Membro';\r\nimport { CargoService } from 'src/app/servicos/Cargo';\r\nimport { MembroService } from 'src/app/servicos/Membro';\r\nimport { DateUtil } from 'src/app/util/DateUtil';\r\nimport { MensagensUtil } from 'src/app/util/MensagensUtil';\r\n\r\n@Component({\r\n  selector: 'app-cargo',\r\n  templateUrl: './cargo.page.html',\r\n  styleUrls: ['./cargo.page.scss'],\r\n})\r\nexport class CargoPage {\r\n  formulario: FormGroup;\r\n  cargo: Cargo;\r\n  mensagens: MensagensUtil;\r\n  dataDeHoje: string;\r\n  membrosAtivos: Membro[];\r\n  listaMembrosObservable: Observable<any[]>;\r\n\r\n  constructor(\r\n    private formulador: FormBuilder,\r\n    private membroService: MembroService,\r\n    private aviso: ToastController,\r\n    private cargoService: CargoService,\r\n    private router: Router\r\n  ) {\r\n    this.mensagens = new MensagensUtil(this.aviso);\r\n    const nav = this.router.getCurrentNavigation();\r\n    this.cargo = nav.extras.state.content;\r\n    this.ajustarDatas();\r\n    this.inicializar();\r\n  }\r\n\r\n  private inicializar(): void {\r\n    this.listaMembrosObservable = this.membroService.listar();\r\n    this.listaMembrosObservable.subscribe((response) => {\r\n      this.membrosAtivos = response;\r\n      this.membrosAtivos = this.membrosAtivos.filter(\r\n        (m) => m.situacao === 'Ativo'\r\n      );\r\n      this.membrosAtivos.sort((a, b) =>\r\n        a.nomeCompleto > b.nomeCompleto\r\n          ? 1\r\n          : b.nomeCompleto > a.nomeCompleto\r\n          ? -1\r\n          : 0\r\n      );\r\n    });\r\n\r\n    this.criarFormulario();\r\n    this.formulario.controls['responsavel'].setValue(this.cargo.responsavel);\r\n  }\r\n\r\n  private criarFormulario(): void {\r\n    this.formulario = this.formulador.group({\r\n      key: [this.cargo.key, Validators.required],\r\n      responsavel: [this.cargo.responsavel, Validators.required],\r\n      dataInicio: [this.cargo.dataInicioResponsavel, Validators.required],\r\n      dataFim: [this.cargo.dataFimResponsavel, Validators.required],\r\n      descricao: [this.cargo.descricao],\r\n      nome: [this.cargo.nome, Validators.required],\r\n    });\r\n  }\r\n\r\n  private ajustarDatas() : void {\r\n    if(this.cargo.dataInicioResponsavel)\r\n    this.cargo.dataInicioResponsavel = this.cargo.dataInicioResponsavel.includes('/')? this.cargo.dataInicioResponsavel : DateUtil.dateFormatterBrazil(this.cargo.dataInicioResponsavel);\r\n    if(this.cargo.dataFimResponsavel)\r\n    this.cargo.dataFimResponsavel= this.cargo.dataFimResponsavel.includes('/')? this.cargo.dataFimResponsavel : DateUtil.dateFormatterBrazil(this.cargo.dataFimResponsavel);\r\n  }\r\n\r\n  public associar(): void {\r\n    if (this.formulario.value) {\r\n      this.isDataFimEnable(true);\r\n      this.formulario.controls['dataFim'].enable();\r\n\r\n      if(this.formulario.value.dataFim && !DateUtil.verificarIsDataValida(this.formulario.value.dataFim)){\r\n        this.mensagens.mensagemError(\"A data informada no campo 'Data Fim' não é válida.\")\r\n    }\r\n      else if(this.formulario.value.dataInicio && !DateUtil.verificarIsDataValida(this.formulario.value.dataInicio)){\r\n        this.mensagens.mensagemError(\"A data informada no campo 'Data Início' não é válida.\")\r\n    }\r\n      else if (DateUtil.isDataFutura(this.formulario.value.dataInicio)) {\r\n        this.mensagens.mensagemError(\r\n          \"Não é permitido data futura para o campo 'Data Início'\"\r\n        );\r\n      } else if (\r\n        DateUtil.isDataDoisMaiorDataUm(\r\n          this.formulario.value.dataInicio,\r\n          this.formulario.value.dataFim\r\n        ) &&\r\n        !DateUtil.isDatasIguais(\r\n          this.formulario.value.dataFim,\r\n          this.formulario.value.dataInicio\r\n        )\r\n      ) {\r\n        this.mensagens.mensagemError(\r\n          \"A 'Data Início' não pode ser maior que a 'Data Fim'.\"\r\n        );\r\n      } else if (\r\n        DateUtil.isDatasIguais(\r\n          this.formulario.value.dataInicio,\r\n          this.formulario.value.dataFim\r\n        )\r\n      ) {\r\n        this.mensagens.mensagemError(\r\n          \"As datas 'Data Início' e 'Data Fim' não podem ser iguais.\"\r\n        );\r\n      } else if (\r\n        DateUtil.numeroDiasEntreDuasDatas(\r\n          this.formulario.value.dataInicio,\r\n          this.formulario.value.dataFim\r\n        ) >= 731\r\n      ) {\r\n        this.mensagens.mensagemError(\r\n          'O responsável pode assumir um cargo com duração máxima de dois anos.'\r\n        );\r\n      } else {\r\n        this.cargo = CargoMapper.formularioToCargo(this.formulario.value);\r\n        this.cargoService.adicionarOuAtualizar(this.cargo);\r\n        this.mensagens.mensagemSucesso('Associação realizada com sucesso!');\r\n      }\r\n      this.isDataFimEnable(false);\r\n    }\r\n  }\r\n\r\n  public calcularDataFinal(event: any): void {\r\n    let dataInicial = event.target.value;\r\n    if (DateUtil.verificarIsDataValida(dataInicial)) {\r\n      this.formulario.controls['dataFim'].setValue(\r\n        DateUtil.calcularData(dataInicial, 2)\r\n      );\r\n      this.isDataFimEnable(false);\r\n    }\r\n  }\r\n\r\n  private isDataFimEnable(valor: boolean): void {\r\n    if (valor) this.formulario.controls['dataFim'].enable();\r\n    else this.formulario.controls['dataFim'].disable();\r\n  }\r\n}\r\n"]}
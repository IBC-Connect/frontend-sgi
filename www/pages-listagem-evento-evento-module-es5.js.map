{"version":3,"sources":["webpack:///src/app/pages/listagem/evento/evento.page.ts","webpack:///src/app/pages/listagem/evento/evento.page.scss","webpack:///src/app/pages/listagem/evento/evento.page.html","webpack:///src/app/pages/listagem/evento/evento.module.ts","webpack:///src/app/pages/listagem/evento/evento-routing.module.ts"],"names":["EventoPage","eventoService","aviso","navCtrl","alertController","inicializar","mensagens","redirecionador","listaEventosObservable","listar","subscribe","response","verificarEventosExpirados","listaEventos","listaEventosFiltrados","numTotalEventos","length","sort","a","b","data","diff","Array","evento","create","header","message","buttons","text","handler","dismiss","excluirEvento","alert","present","deletar","key","mensagemSucesso","navigateForward","state","content","ev","val","detail","value","trim","filter","term","nome","toUpperCase","indexOf","listaEvento","forEach","isBefore","Date","push","selector","template","EventoPageModule","imports","declarations","routes","path","component","EventoPageRoutingModule","forChild","exports"],"mappings":"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","file":"pages-listagem-evento-evento-module-es5.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { AlertController, NavController, ToastController } from '@ionic/angular';\r\nimport { Observable } from 'rxjs';\r\nimport { Evento } from 'src/app/modelo/Evento';\r\nimport { EventoService } from 'src/app/servicos/Evento';\r\nimport { MensagensUtil } from 'src/app/util/MensagensUtil';\r\nimport { RedirecionadorUtil } from 'src/app/util/RedirecionadorUtil';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-evento',\r\n  templateUrl: './evento.page.html',\r\n  styleUrls: ['./evento.page.scss'],\r\n})\r\nexport class EventoPage {\r\n\r\n  listaEventos: Evento[];\r\n  listaEventosFiltrados: Evento[];\r\n  numTotalEventos: number;\r\n  listaEventosObservable: Observable<any[]>;\r\n  mensagens: MensagensUtil;\r\n  redirecionador: RedirecionadorUtil;\r\n\r\n  constructor(\r\n    private eventoService: EventoService,\r\n    private aviso: ToastController,\r\n    private navCtrl: NavController,\r\n    public alertController: AlertController\r\n  ) {\r\n    moment.locale('pt-br');\r\n    this.inicializar();\r\n\r\n  }\r\n\r\n  public inicializar(): void {\r\n    this.mensagens = new MensagensUtil(this.aviso);\r\n    this.redirecionador = new RedirecionadorUtil(this.navCtrl);\r\n    this.listaEventosObservable = this.eventoService.listar();\r\n    this.listaEventosObservable.subscribe(async (response) => {\r\n      this.listaEventos = await this.verificarEventosExpirados(response);\r\n      this.listaEventosFiltrados = this.listaEventos;\r\n      this.numTotalEventos = this.listaEventos ? this.listaEventos.length : 0;\r\n      this.listaEventosFiltrados = this.listaEventosFiltrados ? (this.listaEventosFiltrados.sort((a, b) => moment.utc(b.data).diff(moment.utc(a.data)))) : new Array<Evento>();\r\n    });\r\n\r\n  }\r\n\r\n\r\n  public async confirmarExclusao(evento: Evento) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Confirmação de exclusão',\r\n      message: 'Tem certeza que deseja excluir o evento selecionado?',\r\n      buttons: [\r\n        {\r\n          text: 'Não',\r\n          handler: () => {\r\n            this.alertController.dismiss();\r\n          },\r\n        },\r\n        {\r\n          text: 'Sim',\r\n          handler: () => {\r\n            this.excluirEvento(evento);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  private excluirEvento(evento: Evento): void {\r\n    this.eventoService.deletar(evento.key);\r\n    this.mensagens.mensagemSucesso('Evento excluído com sucesso!');\r\n    this.inicializar();\r\n  }\r\n\r\n  public editarEvento(evento: Evento): void {\r\n    this.navCtrl.navigateForward('/editar/evento', {\r\n      state: { content: evento },\r\n    });\r\n  }\r\n\r\n  public pesquisarEvento(ev: any) {\r\n    this.listaEventosFiltrados = this.listaEventos;\r\n    const val = ev.detail.value;\r\n\r\n    if (val && val.trim() !== '') {\r\n      this.listaEventosFiltrados = this.listaEventosFiltrados.filter((term) => {\r\n        return term.nome.toUpperCase().indexOf(val.trim().toUpperCase()) > -1;\r\n      });\r\n    }\r\n  }\r\n\r\n  public async verificarEventosExpirados(response) {\r\n\r\n    var listaEvento = new Array<Evento>();\r\n    \r\n    await response.forEach(evento => {\r\n      if (!moment(evento.data).isBefore(moment(new Date()))) {\r\n        listaEvento.push(evento);\r\n      }\r\n    })\r\n\r\n    return listaEvento;\r\n\r\n  }\r\n\r\n}\r\n","export default \"ion-searchbar {\\n  margin-top: 15px;\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  font-family: \\\"Rubik\\\", sans-serif;\\n}\\n\\nion-title,\\nh1,\\n.informacao-membro,\\nh2 {\\n  font-family: \\\"Lexend\\\", sans-serif;\\n}\\n\\nh2 {\\n  color: #a57d51;\\n  text-align: center;\\n}\\n\\nh1 {\\n  font-size: 20px;\\n}\\n\\n.bt-editar {\\n  background: #2e2e3c;\\n}\\n\\n.bt-deletar {\\n  background: #a57d51;\\n}\\n\\n.icones {\\n  color: #fff;\\n  font-size: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcZXZlbnRvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQ0FBQTtBQUNKOztBQUVBOzs7O0VBSUksaUNBQUE7QUFDSjs7QUFFQTtFQUNJLGNBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtBQUNKOztBQUVBO0VBQ0ksbUJBQUE7QUFDSjs7QUFFQTtFQUNJLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0VBQ0EsZUFBQTtBQUNKIiwiZmlsZSI6ImV2ZW50by5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tc2VhcmNoYmFyIHtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgZm9udC1mYW1pbHk6IFwiUnViaWtcIiwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuaW9uLXRpdGxlLFxyXG5oMSxcclxuLmluZm9ybWFjYW8tbWVtYnJvLFxyXG5oMiB7XHJcbiAgICBmb250LWZhbWlseTogXCJMZXhlbmRcIiwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuaDIge1xyXG4gICAgY29sb3I6ICNhNTdkNTE7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbmgxIHtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxufVxyXG5cclxuLmJ0LWVkaXRhciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMmUyZTNjO1xyXG59XHJcblxyXG4uYnQtZGVsZXRhciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjYTU3ZDUxO1xyXG59XHJcblxyXG4uaWNvbmVzIHtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG59Il19 */\";","export default \"<ion-header>\\r\\n    <ion-toolbar color=\\\"primary\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button defaultHref=\\\"inicio\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Total de eventos: {{numTotalEventos}}</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n    <h2 *ngIf=\\\"numTotalEventos == 0\\\"> Não há eventos cadastrados.</h2>\\r\\n\\r\\n    <ion-searchbar *ngIf=\\\"numTotalEventos > 0\\\" (ionChange)=\\\"pesquisarEvento($event)\\\" placeholder=\\\"Digite o nome do evento\\\" color=\\\"tertiary\\\"></ion-searchbar>\\r\\n    <ion-grid>\\r\\n        <ion-row align-items-center justify-content-center>\\r\\n            <ion-col>\\r\\n                <ion-list>\\r\\n                    <ion-item-sliding *ngFor=\\\"let evento of listaEventosFiltrados\\\">\\r\\n                        <ion-item text-wrap class=\\\"item-text-wrap\\\">\\r\\n                            <ion-label class=\\\"informacao-membro\\\" text-wrap>\\r\\n                                <h1 class=\\\"content-title\\\">{{evento.nome}}</h1>\\r\\n                                {{evento.responsavel? 'Responsável: '.concat(evento.responsavel) : '' }}\\r\\n                            </ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item-options side=\\\"start\\\">\\r\\n                            <button ion-button (click)=\\\"editarEvento(evento)\\\" class=\\\"bt-editar\\\">\\r\\n                <ion-icon class=\\\"icones\\\" name=\\\"create\\\"></ion-icon>\\r\\n              </button>\\r\\n\\r\\n                            <button (click)=\\\"confirmarExclusao(evento)\\\" ion-button class=\\\"bt-deletar\\\">\\r\\n                <ion-icon class=\\\"icones\\\" name=\\\"trash\\\"></ion-icon>\\r\\n              </button>\\r\\n                        </ion-item-options>\\r\\n                    </ion-item-sliding>\\r\\n                </ion-list>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n    </ion-grid>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EventoPageRoutingModule } from './evento-routing.module';\r\n\r\nimport { EventoPage } from './evento.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    EventoPageRoutingModule\r\n  ],\r\n  declarations: [EventoPage]\r\n})\r\nexport class EventoPageModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { EventoPage } from './evento.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EventoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class EventoPageRoutingModule {}\r\n"]}
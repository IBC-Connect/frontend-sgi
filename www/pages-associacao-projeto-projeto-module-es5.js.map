{"version":3,"sources":["webpack:///src/app/mapper/Projeto.ts","webpack:///src/app/pages/associacao/projeto/projeto.module.ts","webpack:///src/app/pages/associacao/projeto/projeto.page.html","webpack:///src/app/pages/associacao/projeto/projeto.page.scss","webpack:///src/app/pages/associacao/projeto/projeto-routing.module.ts","webpack:///src/app/pages/associacao/projeto/projeto.page.ts"],"names":["ProjetoMapper","form","projeto","responsavel","dataInicioResponsavel","dataInicio","dataFimResponsavel","dataFim","ProjetoPageModule","imports","declarations","routes","path","component","ProjetoPageRoutingModule","forChild","exports","ProjetoPage","formulador","membroService","aviso","projetoService","router","nav","getCurrentNavigation","extras","state","content","ajustarDatas","inicializar","mensagens","listaMembrosObservable","listar","subscribe","response","membrosAtivos","filter","m","situacao","sort","a","b","nomeCompleto","criarFormulario","formulario","group","key","required","nome","includes","dateFormatterBrazil","value","verificarIsDataValida","mensagemError","isDataFutura","isDataDoisMaiorDataUm","isDatasIguais","numeroDiasEntreDuasDatas","formularioToProjeto","adicionarOuAtualizar","selector","template"],"mappings":"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","file":"pages-associacao-projeto-projeto-module-es5.js","sourcesContent":["import { Projeto } from \"../modelo/Projeto\";\r\n\r\n\r\nexport class ProjetoMapper {\r\n\r\n    public static formularioToProjeto(form:any, projeto:Projeto):Projeto{\r\n\r\n                projeto.responsavel= form.responsavel;\r\n                projeto.dataInicioResponsavel = form.dataInicio;\r\n                projeto.dataFimResponsavel = form.dataFim;\r\n\r\n        return projeto;\r\n    }\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProjetoPageRoutingModule } from './projeto-routing.module';\r\n\r\nimport { ProjetoPage } from './projeto.page';\r\nimport { BrMaskerModule } from 'br-mask';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ProjetoPageRoutingModule,\r\n    ReactiveFormsModule,\r\n    BrMaskerModule,\r\n  ],\r\n  declarations: [ProjetoPage]\r\n})\r\nexport class ProjetoPageModule {}\r\n","export default \"<ion-header>\\r\\n    <ion-toolbar color=\\\"primary\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button defaultHref=\\\"lista/projeto/ativos\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Associar projeto</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n    <form [formGroup]=\\\"formulario\\\">\\r\\n        <ion-grid>\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"row-item\\\">\\r\\n                        <ion-label mode=\\\"md\\\" class=\\\"titulo-dado\\\" position=\\\"stacked\\\">Projeto</ion-label>\\r\\n                        <ion-input mode=\\\"md\\\" [disabled]=\\\"true\\\" formControlName=\\\"nome\\\" type=\\\"text\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-label mode=\\\"md\\\" class=\\\"titulo-dado-select\\\" position=\\\"stacked\\\">Responsável</ion-label>\\r\\n                    <ion-select [selectedText]=\\\"formulario.get('responsavel').value\\\" placeholder=\\\"Selecione uma opção\\\" formControlName=\\\"responsavel\\\" multiple=\\\"false\\\" interface=\\\"popover\\\">\\r\\n                        <ion-select-option *ngFor=\\\"let item of membrosAtivos\\\" [value]=\\\"item.nomeCompleto\\\">\\r\\n                            {{item.nomeCompleto}}\\r\\n                        </ion-select-option>\\r\\n                    </ion-select>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"row-item\\\">\\r\\n                        <ion-label mode=\\\"md\\\" class=\\\"titulo-dado\\\" position=\\\"stacked\\\">Data de Início</ion-label>\\r\\n                        <ion-input mode=\\\"md\\\" formControlName=\\\"dataInicio\\\" maxlength=\\\"10\\\" [brmasker]=\\\"{mask:'00/00/0000', len:10}\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"row-item\\\">\\r\\n                        <ion-label mode=\\\"md\\\" class=\\\"titulo-dado\\\" position=\\\"stacked\\\">Data Fim</ion-label>\\r\\n                        <ion-input mode=\\\"md\\\" formControlName=\\\"dataFim\\\" maxlength=\\\"10\\\" [brmasker]=\\\"{mask:'00/00/0000', len:10}\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n        </ion-grid>\\r\\n    </form>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-no-border\\\">\\r\\n    <ion-toolbar no-padding id=\\\"rodape\\\">\\r\\n        <ion-grid>\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-button mode=\\\"md\\\" (click)=\\\"associar()\\\" [disabled]=\\\"formulario.invalid\\\" type=\\\"submit\\\" fill=\\\"solid\\\" expand=\\\"full\\\"> Associar</ion-button>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n        </ion-grid>\\r\\n    </ion-toolbar>\\r\\n</ion-footer>\";","export default \"ion-content,\\nion-item,\\nion-input,\\nion-select,\\n.titulo-dado,\\n.titulo-dado-select,\\n.titulo-dado-select-acesso,\\n.titulo-dado-batismo {\\n  font-family: \\\"Rubik\\\", sans-serif;\\n}\\n\\nion-content,\\nion-item,\\n#rodape {\\n  --background: #e6e6e6;\\n}\\n\\nion-select,\\nion-input,\\n.titulo-dado,\\n.titulo-dado-select-acesso,\\n.titulo-dado-select,\\nh2 {\\n  color: #2e2e3c;\\n}\\n\\nion-title, h2 {\\n  font-family: \\\"Lexend\\\", sans-serif;\\n}\\n\\nion-input {\\n  text-transform: uppercase;\\n  font-size: 9pt;\\n}\\n\\nion-select {\\n  font-size: 10pt;\\n}\\n\\n#cabecalho {\\n  --background: #2e2e3c;\\n  color: #fff;\\n}\\n\\n.titulo-dado {\\n  font-size: 11pt;\\n}\\n\\n.titulo-dado-select,\\n.titulo-dado-select-acesso,\\n.titulo-dado-batismo {\\n  font-size: 8.3pt;\\n}\\n\\n.titulo-dado-select {\\n  margin-left: 1%;\\n}\\n\\n.titulo-dado-batismo {\\n  margin-left: 4%;\\n}\\n\\nh2 {\\n  font-size: 13pt;\\n  font-weight: bolder;\\n  margin-left: 1%;\\n}\\n\\nspan {\\n  color: #eb445a;\\n}\\n\\n::ng-deep .mycomponent-wider-popover {\\n  --width: 95%;\\n  --max-width: 600px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxccHJvamV0by5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0VBUUcsZ0NBQUE7QUFDSDs7QUFFQTs7O0VBR0kscUJBQUE7QUFDSjs7QUFFQTs7Ozs7O0VBTUksY0FBQTtBQUNKOztBQUVBO0VBQ0ksaUNBQUE7QUFDSjs7QUFFQTtFQUNJLHlCQUFBO0VBQ0EsY0FBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtBQUNKOztBQUVBO0VBQ0kscUJBQUE7RUFDQSxXQUFBO0FBQ0o7O0FBRUE7RUFDSSxlQUFBO0FBQ0o7O0FBRUM7OztFQUdHLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxlQUFBO0FBQ0o7O0FBRUE7RUFDSSxlQUFBO0FBQ0o7O0FBRUE7RUFDSSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0FBQ0o7O0FBRUE7RUFFRSxZQUFBO0VBQ0Esa0JBQUE7QUFBRiIsImZpbGUiOiJwcm9qZXRvLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50LCAgXHJcbmlvbi1pdGVtLCBcclxuaW9uLWlucHV0LCBcclxuaW9uLXNlbGVjdCxcclxuLnRpdHVsby1kYWRvLFxyXG4udGl0dWxvLWRhZG8tc2VsZWN0LFxyXG4udGl0dWxvLWRhZG8tc2VsZWN0LWFjZXNzbyxcclxuLnRpdHVsby1kYWRvLWJhdGlzbW8ge1xyXG4gICBmb250LWZhbWlseTogJ1J1YmlrJywgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuaW9uLWNvbnRlbnQsIFxyXG5pb24taXRlbSxcclxuI3JvZGFwZSB7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNlNmU2ZTY7XHJcbn1cclxuXHJcbmlvbi1zZWxlY3QsXHJcbmlvbi1pbnB1dCxcclxuLnRpdHVsby1kYWRvLFxyXG4udGl0dWxvLWRhZG8tc2VsZWN0LWFjZXNzbyxcclxuLnRpdHVsby1kYWRvLXNlbGVjdCxcclxuaDIge1xyXG4gICAgY29sb3I6IzJlMmUzYztcclxufSBcclxuXHJcbmlvbi10aXRsZSwgaDJ7XHJcbiAgICBmb250LWZhbWlseTogJ0xleGVuZCcsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbmlvbi1pbnB1dHtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBmb250LXNpemU6IDlwdDtcclxuIH1cclxuXHJcbmlvbi1zZWxlY3R7XHJcbiAgICBmb250LXNpemU6IDEwcHQ7XHJcbn1cclxuXHJcbiNjYWJlY2FsaG97XHJcbiAgICAtLWJhY2tncm91bmQ6ICMyZTJlM2M7IFxyXG4gICAgY29sb3I6ICNmZmY7XHJcbn1cclxuICAgIFxyXG4udGl0dWxvLWRhZG97XHJcbiAgICBmb250LXNpemU6IDExcHQ7XHJcbiB9XHJcblxyXG4gLnRpdHVsby1kYWRvLXNlbGVjdCxcclxuIC50aXR1bG8tZGFkby1zZWxlY3QtYWNlc3NvLFxyXG4gLnRpdHVsby1kYWRvLWJhdGlzbW97XHJcbiAgICBmb250LXNpemU6IDguM3B0O1xyXG4gfVxyXG5cclxuLnRpdHVsby1kYWRvLXNlbGVjdHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxJTsgIFxyXG59XHJcblxyXG4udGl0dWxvLWRhZG8tYmF0aXNtb3tcclxuICAgIG1hcmdpbi1sZWZ0OiA0JTsgIFxyXG59XHJcbiBcclxuaDIge1xyXG4gICAgZm9udC1zaXplOjEzcHQ7XHJcbiAgICBmb250LXdlaWdodDogYm9sZGVyO1xyXG4gICAgbWFyZ2luLWxlZnQ6MSU7XHJcbn1cclxuXHJcbnNwYW4ge1xyXG4gICAgY29sb3I6ICNlYjQ0NWE7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubXljb21wb25lbnQtd2lkZXItcG9wb3ZlclxyXG57XHJcbiAgLS13aWR0aDogOTUlO1xyXG4gIC0tbWF4LXdpZHRoOiA2MDBweDtcclxufSJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProjetoPage } from './projeto.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProjetoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProjetoPageRoutingModule {}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ToastController } from \"@ionic/angular\";\r\nimport { Observable } from \"rxjs\";\r\nimport { ProjetoMapper } from \"src/app/mapper/Projeto\";\r\nimport { Membro } from \"src/app/modelo/Membro\";\r\nimport { Projeto } from \"src/app/modelo/Projeto\";\r\nimport { MembroService } from \"src/app/servicos/Membro\";\r\nimport { ProjetoService } from \"src/app/servicos/Projeto\";\r\nimport { DateUtil } from \"src/app/util/DateUtil\";\r\nimport { MensagensUtil } from \"src/app/util/MensagensUtil\";\r\n\r\n@Component({\r\n  selector: \"app-projeto\",\r\n  templateUrl: \"./projeto.page.html\",\r\n  styleUrls: [\"./projeto.page.scss\"],\r\n})\r\nexport class ProjetoPage implements OnInit {\r\n  formulario: FormGroup;\r\n  projeto: Projeto;\r\n  mensagens: MensagensUtil;\r\n  dataDeHoje: string;\r\n  membrosAtivos: Membro[];\r\n  listaMembrosObservable: Observable<any[]>;\r\n\r\n  constructor(\r\n    private formulador: FormBuilder,\r\n    private membroService: MembroService,\r\n    private aviso: ToastController,\r\n    private projetoService: ProjetoService,\r\n    private router: Router\r\n  ) {\r\n    const nav = this.router.getCurrentNavigation();\r\n    this.projeto = nav.extras.state.content;\r\n    this.ajustarDatas();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.inicializar();\r\n  }\r\n\r\n  private inicializar(): void {\r\n    this.mensagens = new MensagensUtil(this.aviso);\r\n    this.listaMembrosObservable = this.membroService.listar();\r\n    this.listaMembrosObservable.subscribe((response) => {\r\n      this.membrosAtivos = response;\r\n      this.membrosAtivos = this.membrosAtivos.filter(\r\n        (m) => m.situacao === \"Ativo\"\r\n      );\r\n      this.membrosAtivos.sort((a, b) =>\r\n        a.nomeCompleto > b.nomeCompleto\r\n          ? 1\r\n          : b.nomeCompleto > a.nomeCompleto\r\n          ? -1\r\n          : 0\r\n      );\r\n    });\r\n\r\n    this.criarFormulario();\r\n  }\r\n\r\n  private criarFormulario(): void {\r\n    this.formulario = this.formulador.group({\r\n      key: [this.projeto.key, Validators.required],\r\n      responsavel: [this.projeto.responsavel, Validators.required],\r\n      dataInicio: [this.projeto.dataInicioResponsavel, Validators.required],\r\n      dataFim: [this.projeto.dataFimResponsavel, Validators.required],\r\n      nome: [this.projeto.nome, Validators.required],\r\n    });\r\n  }\r\n\r\n  private ajustarDatas(): void {\r\n    if (this.projeto.dataInicioResponsavel)\r\n      this.projeto.dataInicioResponsavel =\r\n        this.projeto.dataInicioResponsavel.includes(\"/\")\r\n          ? this.projeto.dataInicioResponsavel\r\n          : DateUtil.dateFormatterBrazil(this.projeto.dataInicioResponsavel);\r\n    if (this.projeto.dataFimResponsavel)\r\n      this.projeto.dataFimResponsavel =\r\n        this.projeto.dataFimResponsavel.includes(\"/\")\r\n          ? this.projeto.dataFimResponsavel\r\n          : DateUtil.dateFormatterBrazil(this.projeto.dataFimResponsavel);\r\n  }\r\n\r\n  public associar(): void {\r\n    if (this.formulario.value) {\r\n      if (\r\n        this.formulario.value.dataFim &&\r\n        !DateUtil.verificarIsDataValida(this.formulario.value.dataFim)\r\n      ) {\r\n        this.mensagens.mensagemError(\r\n          \"A data informada no campo 'Data Fim' não é válida.\"\r\n        );\r\n      } else if (\r\n        this.formulario.value.dataInicio &&\r\n        !DateUtil.verificarIsDataValida(this.formulario.value.dataInicio)\r\n      ) {\r\n        this.mensagens.mensagemError(\r\n          \"A data informada no campo 'Data Início' não é válida.\"\r\n        );\r\n      } else if (DateUtil.isDataFutura(this.formulario.value.dataInicio)) {\r\n        this.mensagens.mensagemError(\r\n          \"Não é permitido data futura para o campo 'Data Início'\"\r\n        );\r\n      } else if (\r\n        DateUtil.isDataDoisMaiorDataUm(\r\n          this.formulario.value.dataInicio,\r\n          this.formulario.value.dataFim\r\n        ) &&\r\n        !DateUtil.isDatasIguais(\r\n          this.formulario.value.dataFim,\r\n          this.formulario.value.dataInicio\r\n        )\r\n      ) {\r\n        this.mensagens.mensagemError(\r\n          \"A 'Data Início' não pode ser maior que a 'Data Fim'.\"\r\n        );\r\n      } else if (\r\n        DateUtil.isDatasIguais(\r\n          this.formulario.value.dataInicio,\r\n          this.formulario.value.dataFim\r\n        )\r\n      ) {\r\n        this.mensagens.mensagemError(\r\n          \"As datas 'Data Início' e 'Data Fim' não podem ser iguais.\"\r\n        );\r\n      } else if (\r\n        DateUtil.numeroDiasEntreDuasDatas(\r\n          this.formulario.value.dataInicio,\r\n          this.formulario.value.dataFim\r\n        ) >= 731\r\n      ) {\r\n        this.mensagens.mensagemError(\r\n          \"O responsável pode assumir um cargo com duração máxima de dois anos.\"\r\n        );\r\n      } else {\r\n        this.projeto = ProjetoMapper.formularioToProjeto(\r\n          this.formulario.value,\r\n          this.projeto\r\n        );\r\n        this.projetoService.adicionarOuAtualizar(\r\n          this.projeto,\r\n          \"'Associação realizada com sucesso!\"\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}
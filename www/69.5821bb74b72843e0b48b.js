(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{BOWJ:function(o,e,i){"use strict";i.r(e),i.d(e,"MembroPageModule",function(){return _});var t=i("ofXK"),a=i("3Pt+"),n=i("TEn/"),r=i("tyNb"),s=i("mrSG"),l=i("JpJ2"),m=i("/FaQ"),b=i("Xsc5"),c=i("JM5f"),d=i("0z2X"),u=i("sZxV"),p=i("VFuG"),f=i("fXoL"),h=i("fX5e"),O=i("tTKV"),N=i("Gchg"),g=i("/oCc");function C(o,e){if(1&o&&(f.Ob(0,"ion-select-option",39),f.ic(1),f.Nb()),2&o){const o=e.$implicit;f.bc("value",o.id),f.Bb(1),f.kc(" ",o.valor," ")}}function v(o,e){if(1&o&&(f.Ob(0,"ion-select-option",39),f.ic(1),f.Nb()),2&o){const o=e.$implicit;f.bc("value",o.id),f.Bb(1),f.kc(" ",o.valor," ")}}const M=function(){return{mask:"00/00/0000",len:10}},y=function(){return{phone:!0}},B=function(){return{cssClass:"mycomponent-wider-popover"}},P=function(){return{person:!0}},x=[{path:"",component:(()=>{class o{constructor(o,e,i,t,a,n){this.formulador=o,this.membroService=e,this.autenticacao=i,this.aviso=t,this.consultaCep=a,this.alertController=n,this.estadoCivil=[],this.escolaridade=[],this.mensagens=new u.a(this.aviso),this.estadoCivil=d.a.estadoCivil(),this.escolaridade=d.a.escolaridade(),this.inicializar()}inicializar(){this.membro=new b.a,this.membro.endereco=new m.a,this.criarFormulario()}criarFormulario(){this.formulario=this.formulador.group({cpf:[this.membro.cpf,a.n.required],nomeCompleto:[this.membro.nomeCompleto,a.n.required],dataNascimento:[this.membro.dataNascimento,a.n.required],telefone:[this.membro.telefone,a.n.required],whatsapp:[this.membro.whatsapp],email:[this.membro.email,a.n.required],profissao:[this.membro.profissao,a.n.required],estadoCivil:[this.membro.estadoCivil,a.n.required],escolaridade:[this.membro.escolaridade,a.n.required],trabalhandoAtualmente:[this.membro.trabalhandoAtualmente,a.n.required],dataBatismo:[this.membro.dataBatismo],membroDesde:[this.membro.membroDesde],cep:[this.membro.endereco.cep,a.n.required],logradouro:[this.membro.endereco.logradouro,a.n.required],numero:[this.membro.endereco.numero,a.n.required],complemento:[this.membro.endereco.complemento],bairro:[this.membro.endereco.bairro,a.n.required],cidade:[this.membro.endereco.cidade,a.n.required],estado:[this.membro.endereco.estado,a.n.required],perfil:[this.membro.perfil,a.n.required],senha:[this.membro.senha,a.n.required]})}buscarEndereco(o){return Object(s.b)(this,void 0,void 0,function*(){o.target.value?yield this.consultaCep.buscaEndereco(o.target.value).then(o=>{const e=o;e.erro?this.erroAoBuscarCep():e&&(this.formulario.controls.bairro.setValue(e.bairro),this.formulario.controls.cidade.setValue(e.localidade),this.formulario.controls.estado.setValue(e.uf),this.formulario.controls.logradouro.setValue(e.logradouro),this.disableEndereco(!0))},o=>{this.erroAoBuscarCep()}):(this.preencherComNullEndereco(),this.disableEndereco(!1))})}validarCpf(o){if(o.target.value){if(!p.a.cpfCnpjIsValid(o.target.value))return this.mensagens.mensagemError("CPF inv\xe1lido."),this.formulario.controls.cpf.setValue(null),void this.formulario.controls.senha.setValue(null);this.formulario.controls.senha.setValue(o.target.value.replace(".","").replace(".","").replace("-",""))}}validarEmail(o){if(o.target.value&&!o.target.value.includes("@"))return this.mensagens.mensagemError("E-mail inv\xe1lido."),void this.formulario.controls.email.setValue(null)}validarDataNascimento(o){if(o.target.value&&!c.a.isIdadeMaiorDozeAnos(o.target.value))return this.mensagens.mensagemError("De acordo com estatuto da IBC, os novos membros dever\xe3o ter ao m\xednimo 12 anos de idade."),void this.formulario.controls.dataNascimento.setValue(null)}retirarEspacamentoEmail(){this.formulario.controls.email.value&&this.formulario.controls.email.setValue(this.formulario.controls.email.value.replace(/\s+/g,""))}preencherComNullEndereco(){this.formulario.controls.bairro.setValue(null),this.formulario.controls.cidade.setValue(null),this.formulario.controls.estado.setValue(null),this.formulario.controls.logradouro.setValue(null)}erroAoBuscarCep(){this.mensagens.mensagemAlerta("Cep n\xe3o encontrado, por favor insira os dados manualmente."),this.preencherComNullEndereco(),this.disableEndereco(!1)}disableEndereco(o){o?(this.formulario.controls.bairro.disable(),this.formulario.controls.cidade.disable(),this.formulario.controls.estado.disable(),this.formulario.controls.logradouro.disable()):(this.formulario.controls.bairro.enable(),this.formulario.controls.cidade.enable(),this.formulario.controls.estado.enable(),this.formulario.controls.logradouro.enable())}cadastrar(){return Object(s.b)(this,void 0,void 0,function*(){if(this.formulario.value)if(this.formulario.value.dataBatismo&&!c.a.verificarIsDataValida(this.formulario.value.dataBatismo))this.mensagens.mensagemError("A data informada no campo 'Data de Batismo' n\xe3o \xe9 v\xe1lida.");else if(this.formulario.value.membroDesde&&!c.a.verificarIsDataValida(this.formulario.value.membroDesde))this.mensagens.mensagemError("A data informada no campo 'Membro desde' n\xe3o \xe9 v\xe1lida.");else if(this.formulario.value.dataNascimento&&!c.a.verificarIsDataValida(this.formulario.value.dataNascimento))this.mensagens.mensagemError("A data informada no campo 'Data de nascimento' n\xe3o \xe9 v\xe1lida.");else if(this.formulario.value.dataBatismo&&this.formulario.value.membroDesde)c.a.isDataFutura(this.formulario.value.dataBatismo)||c.a.isDataFutura(this.formulario.value.membroDesde)?this.mensagens.mensagemError("N\xe3o s\xe3o permitidas datas futuras para o campo 'Data do Batismo' e o campo 'Membro desde.'"):c.a.isDataDoisMaiorDataUm(this.formulario.value.dataBatismo,this.formulario.value.membroDesde)&&!c.a.isDatasIguais(this.formulario.value.dataBatismo,this.formulario.value.membroDesde)&&this.mensagens.mensagemError("A data 'Membro desde' n\xe3o pode ser maior que a 'Data do Batismo'.");else{this.disableEndereco(!1),this.membro=l.a.formularioToMembro(this.formulario.value);const o=yield this.autenticacao.criarUsuario(this.membro);o&&(this.membro.uId=o.user.uid,this.membroService.adicionarOuAtualizar(this.membro),this.mensagens.mensagemSucesso("Cadastro realizado com sucesso!"),this.disableEndereco(!0),this.inicializar())}})}confirmarCadastro(){return Object(s.b)(this,void 0,void 0,function*(){const o=yield this.alertController.create({header:"Confirma\xe7\xe3o de cadastro",message:"Tem certeza que deseja concluir o cadastro? Ap\xf3s isso, <b>n\xe3o ser\xe1 poss\xedvel alterar o e-mail cadastrado</b>.",buttons:[{text:"N\xe3o",handler:()=>{this.alertController.dismiss()}},{text:"Sim",handler:()=>{this.cadastrar()}}]});yield o.present()})}}return o.\u0275fac=function(e){return new(e||o)(f.Lb(a.a),f.Lb(h.a),f.Lb(O.a),f.Lb(n.M),f.Lb(N.a),f.Lb(n.a))},o.\u0275cmp=f.Fb({type:o,selectors:[["app-membro"]],decls:177,vars:21,consts:[["color","primary"],["slot","start"],["defaultHref","inicio"],[3,"formGroup"],[1,"row-item"],["mode","md","position","stacked",1,"titulo-dado"],["mode","md","formControlName","nomeCompleto","type","text","maxlength","100"],["mode","md","placeholder","dd/mm/yyyy","formControlName","dataNascimento",3,"brmasker","ionBlur"],["mode","md","formControlName","telefone","type","text",3,"brmasker"],["mode","md","formControlName","whatsapp","type","text",3,"brmasker"],["id","email","mode","md","formControlName","email","maxlength","100","type","text",3,"keyup","ionBlur"],["mode","md","position","stacked",1,"titulo-dado-select"],["placeholder","Selecione uma op\xe7\xe3o","formControlName","estadoCivil","multiple","false","interface","action-sheet"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Selecione uma op\xe7\xe3o","formControlName","escolaridade","multiple","false","interface","popover",3,"interfaceOptions"],["placeholder","Selecione uma op\xe7\xe3o","interface","action-sheet","formControlName","trabalhandoAtualmente"],["value","true"],["value","false"],["mode","md","formControlName","profissao","maxlength","100","type","text"],["mode","md","placeholder","dd/mm/yyyy","formControlName","dataBatismo","maxlength","10",3,"brmasker"],["mode","md","placeholder","dd/mm/yyyy","formControlName","membroDesde","maxlength","10",3,"brmasker"],["mode","md","formControlName","cep","maxlength","9","type","text",3,"ionBlur"],["mode","md","formControlName","logradouro","maxlength","100","type","text"],["mode","md","formControlName","numero","type","number",3,"min","max"],["mode","md","formControlName","complemento","maxlength","100","type","text"],["mode","md","formControlName","bairro","maxlength","100","type","text"],["mode","md","formControlName","cidade","maxlength","100","type","text"],["mode","md","formControlName","estado","maxlength","100","type","text"],["mode","md","position","stacked",1,"titulo-dado-select-acesso"],["placeholder","Selecione uma op\xe7\xe3o","interface","action-sheet","formControlName","perfil"],["value","ADMIN"],["value","FIN"],["value","MEM"],["value","SEC"],["mode","md","formControlName","cpf","maxlength","14","type","text",3,"brmasker","ionBlur"],["mode","md","formControlName","senha","maxlength","14","type","password",3,"disabled"],[1,"ion-no-border"],["no-padding","","id","rodape"],["mode","md","type","submit","fill","solid","expand","full",3,"disabled","click"],[3,"value"]],template:function(o,e){1&o&&(f.Ob(0,"ion-header"),f.Ob(1,"ion-toolbar",0),f.Ob(2,"ion-buttons",1),f.Mb(3,"ion-back-button",2),f.Nb(),f.Ob(4,"ion-title"),f.ic(5,"Cadastro de membro"),f.Nb(),f.Nb(),f.Nb(),f.Ob(6,"ion-content"),f.Ob(7,"form",3),f.Ob(8,"ion-grid"),f.Ob(9,"h2"),f.ic(10,"Informa\xe7\xf5es Pessoais"),f.Nb(),f.Ob(11,"ion-item",4),f.Ob(12,"ion-label",5),f.ic(13,"Nome Completo "),f.Ob(14,"span"),f.ic(15,"*"),f.Nb(),f.Nb(),f.Mb(16,"ion-input",6),f.Nb(),f.Ob(17,"ion-row"),f.Ob(18,"ion-col"),f.Ob(19,"ion-item",4),f.Ob(20,"ion-label",5),f.ic(21,"Data de nascimento "),f.Ob(22,"span"),f.ic(23,"*"),f.Nb(),f.Nb(),f.Ob(24,"ion-input",7),f.Wb("ionBlur",function(o){return e.validarDataNascimento(o)}),f.Nb(),f.Nb(),f.Nb(),f.Ob(25,"ion-col"),f.Ob(26,"ion-item",4),f.Ob(27,"ion-label",5),f.ic(28,"Telefone "),f.Ob(29,"span"),f.ic(30,"*"),f.Nb(),f.Nb(),f.Mb(31,"ion-input",8),f.Nb(),f.Nb(),f.Ob(32,"ion-col"),f.Ob(33,"ion-item",4),f.Ob(34,"ion-label",5),f.ic(35,"Whatsapp "),f.Nb(),f.Mb(36,"ion-input",9),f.Nb(),f.Nb(),f.Ob(37,"ion-col"),f.Ob(38,"ion-item",4),f.Ob(39,"ion-label",5),f.ic(40,"E-mail"),f.Ob(41,"span"),f.ic(42,"*"),f.Nb(),f.Nb(),f.Ob(43,"ion-input",10),f.Wb("keyup",function(){return e.retirarEspacamentoEmail()})("ionBlur",function(o){return e.validarEmail(o)}),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Mb(44,"br"),f.Ob(45,"ion-row"),f.Ob(46,"ion-col"),f.Ob(47,"ion-label",11),f.ic(48,"Estado Civil"),f.Ob(49,"span"),f.ic(50,"*"),f.Nb(),f.Nb(),f.Ob(51,"ion-select",12),f.hc(52,C,2,2,"ion-select-option",13),f.Nb(),f.Nb(),f.Ob(53,"ion-col"),f.Ob(54,"ion-label",11),f.ic(55,"Escolaridade"),f.Ob(56,"span"),f.ic(57,"*"),f.Nb(),f.Nb(),f.Ob(58,"ion-select",14),f.hc(59,v,2,2,"ion-select-option",13),f.Nb(),f.Nb(),f.Ob(60,"ion-col"),f.Ob(61,"ion-label",11),f.ic(62,"Trabalhando atualmente "),f.Ob(63,"span"),f.ic(64,"*"),f.Nb(),f.Nb(),f.Ob(65,"ion-select",15),f.Ob(66,"ion-select-option",16),f.ic(67,"Sim"),f.Nb(),f.Ob(68,"ion-select-option",17),f.ic(69,"N\xe3o"),f.Nb(),f.Nb(),f.Nb(),f.Ob(70,"ion-col"),f.Ob(71,"ion-item",4),f.Ob(72,"ion-label",5),f.ic(73,"Profiss\xe3o "),f.Ob(74,"span"),f.ic(75,"*"),f.Nb(),f.Nb(),f.Mb(76,"ion-input",18),f.Nb(),f.Nb(),f.Nb(),f.Ob(77,"ion-row"),f.Ob(78,"ion-col"),f.Ob(79,"ion-item",4),f.Ob(80,"ion-label",5),f.ic(81,"Data do batismo "),f.Nb(),f.Mb(82,"ion-input",19),f.Nb(),f.Nb(),f.Ob(83,"ion-col"),f.Ob(84,"ion-item",4),f.Ob(85,"ion-label",5),f.ic(86,"Membro desde "),f.Nb(),f.Mb(87,"ion-input",20),f.Nb(),f.Nb(),f.Nb(),f.Ob(88,"h2"),f.ic(89,"Endere\xe7o"),f.Nb(),f.Ob(90,"ion-row"),f.Ob(91,"ion-col"),f.Ob(92,"ion-item",4),f.Ob(93,"ion-label",5),f.ic(94,"CEP "),f.Ob(95,"span"),f.ic(96,"*"),f.Nb(),f.Nb(),f.Ob(97,"ion-input",21),f.Wb("ionBlur",function(o){return e.buscarEndereco(o)}),f.Nb(),f.Nb(),f.Nb(),f.Ob(98,"ion-col"),f.Ob(99,"ion-item",4),f.Ob(100,"ion-label",5),f.ic(101,"Logradouro "),f.Ob(102,"span"),f.ic(103,"*"),f.Nb(),f.Nb(),f.Mb(104,"ion-input",22),f.Nb(),f.Nb(),f.Ob(105,"ion-col"),f.Ob(106,"ion-item",4),f.Ob(107,"ion-label",5),f.ic(108,"N\xfamero "),f.Ob(109,"span"),f.ic(110,"*"),f.Nb(),f.Nb(),f.Mb(111,"ion-input",23),f.Nb(),f.Nb(),f.Ob(112,"ion-col"),f.Ob(113,"ion-item",4),f.Ob(114,"ion-label",5),f.ic(115,"Complemento"),f.Nb(),f.Mb(116,"ion-input",24),f.Nb(),f.Nb(),f.Nb(),f.Ob(117,"ion-row"),f.Ob(118,"ion-col"),f.Ob(119,"ion-item",4),f.Ob(120,"ion-label",5),f.ic(121,"Bairro "),f.Ob(122,"span"),f.ic(123,"*"),f.Nb(),f.Nb(),f.Mb(124,"ion-input",25),f.Nb(),f.Nb(),f.Ob(125,"ion-col"),f.Ob(126,"ion-item",4),f.Ob(127,"ion-label",5),f.ic(128,"Cidade "),f.Ob(129,"span"),f.ic(130,"*"),f.Nb(),f.Nb(),f.Mb(131,"ion-input",26),f.Nb(),f.Nb(),f.Ob(132,"ion-col"),f.Ob(133,"ion-item",4),f.Ob(134,"ion-label",5),f.ic(135,"Estado "),f.Ob(136,"span"),f.ic(137,"*"),f.Nb(),f.Nb(),f.Mb(138,"ion-input",27),f.Nb(),f.Nb(),f.Nb(),f.Ob(139,"h2"),f.ic(140,"Informa\xe7\xf5es de Acesso "),f.Nb(),f.Ob(141,"ion-row"),f.Ob(142,"ion-col"),f.Ob(143,"ion-label",28),f.ic(144,"Perfil"),f.Ob(145,"span"),f.ic(146,"*"),f.Nb(),f.Nb(),f.Ob(147,"ion-select",29),f.Ob(148,"ion-select-option",30),f.ic(149,"Administrador"),f.Nb(),f.Ob(150,"ion-select-option",31),f.ic(151,"Financeiro"),f.Nb(),f.Ob(152,"ion-select-option",32),f.ic(153,"Membro"),f.Nb(),f.Ob(154,"ion-select-option",33),f.ic(155,"Secretariado"),f.Nb(),f.Nb(),f.Nb(),f.Ob(156,"ion-col"),f.Ob(157,"ion-item",4),f.Ob(158,"ion-label",5),f.ic(159,"Cpf "),f.Ob(160,"span"),f.ic(161,"*"),f.Nb(),f.Nb(),f.Ob(162,"ion-input",34),f.Wb("ionBlur",function(o){return e.validarCpf(o)}),f.Nb(),f.Nb(),f.Nb(),f.Ob(163,"ion-col"),f.Ob(164,"ion-item",4),f.Ob(165,"ion-label",5),f.ic(166,"Senha "),f.Ob(167,"span"),f.ic(168,"*"),f.Nb(),f.Nb(),f.Mb(169,"ion-input",35),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(170,"ion-footer",36),f.Ob(171,"ion-toolbar",37),f.Ob(172,"ion-grid"),f.Ob(173,"ion-row"),f.Ob(174,"ion-col"),f.Ob(175,"ion-button",38),f.Wb("click",function(){return e.confirmarCadastro()}),f.ic(176," Cadastrar"),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb()),2&o&&(f.Bb(7),f.bc("formGroup",e.formulario),f.Bb(17),f.bc("brmasker",f.cc(14,M)),f.Bb(7),f.bc("brmasker",f.cc(15,y)),f.Bb(5),f.bc("brmasker",f.cc(16,y)),f.Bb(16),f.bc("ngForOf",e.estadoCivil),f.Bb(6),f.bc("interfaceOptions",f.cc(17,B)),f.Bb(1),f.bc("ngForOf",e.escolaridade),f.Bb(23),f.bc("brmasker",f.cc(18,M)),f.Bb(5),f.bc("brmasker",f.cc(19,M)),f.Bb(24),f.bc("min",0)("max",99999),f.Bb(51),f.bc("brmasker",f.cc(20,P)),f.Bb(7),f.bc("disabled",!0),f.Bb(6),f.bc("disabled",e.formulario.invalid))},directives:[n.l,n.E,n.g,n.d,n.e,n.D,n.i,a.o,a.k,a.d,n.k,n.o,n.r,n.n,n.L,a.j,a.c,a.f,n.v,n.h,g.a,n.x,n.K,t.i,n.y,n.I,n.j,n.f],styles:[".titulo-dado[_ngcontent-%COMP%], .titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}#rodape[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{--background:#e6e6e6}.titulo-dado[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{color:#2e2e3c}h2[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:Lexend,sans-serif}ion-input[_ngcontent-%COMP%]{text-transform:uppercase;font-size:11pt}#email[_ngcontent-%COMP%]{text-transform:lowercase}ion-select[_ngcontent-%COMP%]{font-size:10pt}#cabecalho[_ngcontent-%COMP%]{--background:#2e2e3c;color:#fff}.titulo-dado[_ngcontent-%COMP%]{font-size:13pt}.titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%]{font-size:10pt}.titulo-dado-select[_ngcontent-%COMP%]{margin-left:5.3%}.titulo-dado-select-acesso[_ngcontent-%COMP%]{margin-left:2.5%}.titulo-dado-batismo[_ngcontent-%COMP%]{margin-left:4%}h2[_ngcontent-%COMP%]{font-size:13pt;font-weight:bolder;margin-left:1%}span[_ngcontent-%COMP%]{color:#eb445a}  .mycomponent-wider-popover{--width:95%;--max-width:600px}"]}),o})()}];let E=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=f.Jb({type:o}),o.\u0275inj=f.Ib({imports:[[r.i.forChild(x)],r.i]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=f.Jb({type:o}),o.\u0275inj=f.Ib({imports:[[t.c,a.e,n.F,g.b,a.m,E]]}),o})()}}]);
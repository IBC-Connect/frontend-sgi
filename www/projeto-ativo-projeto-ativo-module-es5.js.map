{"version":3,"sources":["webpack:///src/app/pages/listagem/projeto/projeto-ativo/projeto-ativo.page.html","webpack:///src/app/pages/listagem/projeto/projeto-ativo/projeto-ativo.page.scss","webpack:///src/app/pages/listagem/projeto/projeto-ativo/projeto-ativo.module.ts","webpack:///src/app/pages/listagem/projeto/projeto-ativo/projeto-ativo.page.ts","webpack:///src/app/pages/listagem/projeto/projeto-ativo/projeto-ativo-routing.module.ts"],"names":["ProjetoAtivoPageModule","imports","declarations","ProjetoAtivoPage","projetoService","aviso","navegador","alertController","inicializar","mensagens","redirecionador","listaProjetosObservable","listar","subscribe","response","listaProjetos","listaProjetosFiltrados","filter","m","situacao","numTotalProjetos","length","sort","a","b","nome","projeto","navigateForward","state","content","ev","val","detail","value","trim","term","responsavel","toUpperCase","indexOf","create","header","message","buttons","text","handler","dismiss","inativarProjeto","alert","present","key","adicionarOuAtualizar","selector","template","routes","path","component","ProjetoAtivoPageRoutingModule","forChild","exports"],"mappings":"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","file":"projeto-ativo-projeto-ativo-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"inicio\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Total de projetos ativos: {{numTotalProjetos}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n  <h2 *ngIf=\\\"numTotalProjetos == 0\\\"> Não há projetos ativos.</h2>\\r\\n  <ion-searchbar *ngIf=\\\"numTotalProjetos != 0\\\"\\r\\n  (ionChange)=\\\"pesquisarProjetos($event)\\\"\\r\\n    placeholder=\\\"Digite o nome do projeto\\\"\\r\\n    color=\\\"tertiary\\\"\\r\\n  ></ion-searchbar>\\r\\n  <ion-grid>\\r\\n    <ion-row align-items-center justify-content-center>\\r\\n      <ion-col>\\r\\n        <ion-list>\\r\\n          <ion-item-sliding *ngFor=\\\"let projeto of listaProjetosFiltrados\\\" >\\r\\n            <ion-item text-wrap class=\\\"item-text-wrap\\\">\\r\\n              <ion-label class=\\\"informacao-membro\\\" text-wrap>\\r\\n                <h1 class=\\\"content-title\\\">{{projeto.nome}}</h1>\\r\\n                {{projeto.responsavel? 'Responsável: '.concat(projeto.responsavel) : '' }} \\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item-options side=\\\"start\\\">\\r\\n              <button\\r\\n                ion-button\\r\\n                (click)=\\\"editarProjeto(projeto)\\\"\\r\\n                class=\\\"bt-editar\\\"\\r\\n              >\\r\\n                <ion-icon class=\\\"icones\\\" name=\\\"create\\\"></ion-icon>\\r\\n              </button>\\r\\n              <button\\r\\n                ion-button\\r\\n                (click)=\\\"associarProjeto(projeto)\\\"\\r\\n                routerDirection=\\\"forward\\\"\\r\\n                class=\\\"bt-associar\\\"\\r\\n              >\\r\\n                <ion-icon class=\\\"icones\\\" name=\\\"git-compare\\\"></ion-icon>\\r\\n              </button>\\r\\n              <button (click)=\\\"confirmarInativacao(projeto)\\\" ion-button class=\\\"bt-deletar\\\">\\r\\n                <ion-icon class=\\\"icones\\\" name=\\\"person-remove\\\"></ion-icon>\\r\\n              </button>\\r\\n            </ion-item-options>\\r\\n          </ion-item-sliding>\\r\\n        </ion-list>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\";","export default \"ion-searchbar {\\n  margin-top: 15px;\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  font-family: \\\"Rubik\\\", sans-serif;\\n}\\n\\nion-title,\\nh1,\\n.informacao-membro {\\n  font-family: \\\"Lexend\\\", sans-serif;\\n}\\n\\nh1 {\\n  font-size: 20px;\\n}\\n\\nh2 {\\n  color: #a57d51;\\n  text-align: center;\\n}\\n\\n.bt-editar {\\n  background: #a7a7aa;\\n}\\n\\n.bt-associar {\\n  background: #2e2e3c;\\n}\\n\\n.bt-deletar {\\n  background: #a57d51;\\n}\\n\\n.icones {\\n  color: #fff;\\n  font-size: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXHByb2pldG8tYXRpdm8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdDQUFBO0FBQ0o7O0FBRUU7OztFQUdFLGlDQUFBO0FBQ0o7O0FBRUU7RUFDRSxlQUFBO0FBQ0o7O0FBRUU7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFRTtFQUNFLG1CQUFBO0FBQ0o7O0FBRUU7RUFDRSxtQkFBQTtBQUNKOztBQUVFO0VBQ0UsbUJBQUE7QUFDSjs7QUFFRTtFQUNFLFdBQUE7RUFDQSxlQUFBO0FBQ0oiLCJmaWxlIjoicHJvamV0by1hdGl2by5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tc2VhcmNoYmFyIHtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgZm9udC1mYW1pbHk6IFwiUnViaWtcIiwgc2Fucy1zZXJpZjtcclxuICB9XHJcbiAgXHJcbiAgaW9uLXRpdGxlLFxyXG4gIGgxLFxyXG4gIC5pbmZvcm1hY2FvLW1lbWJybyB7XHJcbiAgICBmb250LWZhbWlseTogXCJMZXhlbmRcIiwgc2Fucy1zZXJpZjtcclxuICB9XHJcbiAgXHJcbiAgaDEge1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gIH1cclxuXHJcbiAgaDIge1xyXG4gICAgY29sb3I6ICNhNTdkNTE7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5idC1lZGl0YXIge1xyXG4gICAgYmFja2dyb3VuZDogI2E3YTdhYTtcclxuICB9XHJcbiAgXHJcbiAgLmJ0LWFzc29jaWFyIHtcclxuICAgIGJhY2tncm91bmQ6ICMyZTJlM2M7XHJcbiAgfVxyXG4gIFxyXG4gIC5idC1kZWxldGFyIHtcclxuICAgIGJhY2tncm91bmQ6ICNhNTdkNTE7XHJcbiAgfVxyXG4gIFxyXG4gIC5pY29uZXMge1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgfVxyXG4gICJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProjetoAtivoPageRoutingModule } from './projeto-ativo-routing.module';\r\n\r\nimport { ProjetoAtivoPage } from './projeto-ativo.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ProjetoAtivoPageRoutingModule\r\n  ],\r\n  declarations: [ProjetoAtivoPage]\r\n})\r\nexport class ProjetoAtivoPageModule {}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport {\r\n  AlertController,\r\n  NavController,\r\n  ToastController\r\n} from \"@ionic/angular\";\r\nimport { Observable } from \"rxjs\";\r\nimport { Projeto } from \"src/app/modelo/Projeto\";\r\nimport { ProjetoService } from \"src/app/servicos/Projeto\";\r\nimport { MensagensUtil } from \"src/app/util/MensagensUtil\";\r\nimport { RedirecionadorUtil } from \"src/app/util/RedirecionadorUtil\";\r\n\r\n@Component({\r\n  selector: \"app-projeto-ativo\",\r\n  templateUrl: \"./projeto-ativo.page.html\",\r\n  styleUrls: [\"./projeto-ativo.page.scss\"],\r\n})\r\nexport class ProjetoAtivoPage implements OnInit {\r\n  listaProjetos: Projeto[];\r\n  mensagens: MensagensUtil;\r\n  redirecionador: RedirecionadorUtil;\r\n  listaProjetosFiltrados: Projeto[];\r\n  numTotalProjetos: number;\r\n  listaProjetosObservable: Observable<any[]>;\r\n\r\n  constructor(\r\n    private projetoService: ProjetoService,\r\n    private aviso: ToastController,\r\n    private navegador: NavController,\r\n    public alertController: AlertController\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.inicializar();\r\n  }\r\n\r\n  private inicializar(): void {\r\n    this.mensagens = new MensagensUtil(this.aviso);\r\n    this.redirecionador = new RedirecionadorUtil(this.navegador);\r\n    this.listaProjetosObservable = this.projetoService.listar();\r\n    this.listaProjetosObservable.subscribe((response) => {\r\n      this.listaProjetos = response;\r\n      this.listaProjetosFiltrados = response;\r\n      this.listaProjetos = this.listaProjetos.filter(\r\n        (m) => m.situacao === \"Ativo\"\r\n      );\r\n      this.listaProjetosFiltrados = this.listaProjetosFiltrados.filter(\r\n        (m) => m.situacao === \"Ativo\"\r\n      );\r\n      this.numTotalProjetos = this.listaProjetos.length;\r\n      this.listaProjetosFiltrados.sort((a, b) =>\r\n        a.nome > b.nome ? 1 : b.nome > a.nome ? -1 : 0\r\n      );\r\n    });\r\n  }\r\n\r\n  public editarProjeto(projeto: Projeto): void {\r\n    this.navegador.navigateForward(\"/editar/projeto\", {\r\n      state: { content: projeto },\r\n    });\r\n  }\r\n\r\n  public pesquisarProjetos(ev: any) {\r\n    this.listaProjetosFiltrados = this.listaProjetos;\r\n    const val = ev.detail.value;\r\n\r\n    if (val && val.trim() !== \"\") {\r\n      this.listaProjetosFiltrados = this.listaProjetosFiltrados.filter(\r\n        (term) => {\r\n          return (\r\n            term.responsavel.toUpperCase().indexOf(val.trim().toUpperCase()) >\r\n            -1\r\n          );\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  public async confirmarInativacao(projeto: Projeto) {\r\n    const alert = await this.alertController.create({\r\n      header: \"Confirmação de inativação\",\r\n      message: \"Tem certeza que deseja inativar o projeto selecionado?\",\r\n      buttons: [\r\n        {\r\n          text: \"Não\",\r\n          handler: () => {\r\n            this.alertController.dismiss();\r\n          },\r\n        },\r\n        {\r\n          text: \"Sim\",\r\n          handler: () => {\r\n            this.inativarProjeto(projeto);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  private inativarProjeto(projeto: Projeto): void {\r\n    if (projeto.key) {\r\n      projeto.situacao = \"Inativo\";\r\n      this.projetoService.adicionarOuAtualizar(projeto, \"Projeto inativado com sucesso!\");\r\n      this.inicializar();\r\n    }\r\n  }\r\n\r\n  public associarProjeto(projeto: Projeto): void {\r\n    this.navegador.navigateForward(\"/associar/projeto\", {\r\n      state: { content: projeto },\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProjetoAtivoPage } from './projeto-ativo.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProjetoAtivoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProjetoAtivoPageRoutingModule {}\r\n"]}
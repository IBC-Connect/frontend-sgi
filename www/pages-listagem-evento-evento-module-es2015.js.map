{"version":3,"sources":["./src/app/pages/listagem/evento/evento.page.ts","./src/app/pages/listagem/evento/evento.page.scss","./src/app/pages/listagem/evento/evento.page.html","./src/app/pages/listagem/evento/evento.module.ts","./src/app/pages/listagem/evento/evento-routing.module.ts","./src/app/util/MensagensUtil.ts"],"names":[],"mappings":"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","file":"pages-listagem-evento-evento-module-es2015.js","sourcesContent":["import { Component } from '@angular/core';\nimport { AlertController, NavController, ToastController } from '@ionic/angular';\nimport { Observable } from 'rxjs';\nimport { Evento } from 'src/app/modelo/Evento';\nimport { EventoService } from 'src/app/servicos/Evento';\nimport { MensagensUtil } from 'src/app/util/MensagensUtil';\nimport { RedirecionadorUtil } from 'src/app/util/RedirecionadorUtil';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-evento',\n  templateUrl: './evento.page.html',\n  styleUrls: ['./evento.page.scss'],\n})\nexport class EventoPage {\n\n  listaEventos: Evento[];\n  listaEventosFiltrados: Evento[];\n  numTotalEventos: number;\n  listaEventosObservable: Observable<any[]>;\n  mensagens: MensagensUtil;\n  redirecionador: RedirecionadorUtil;\n\n  constructor(\n    private eventoService: EventoService,\n    private aviso: ToastController,\n    private navCtrl: NavController,\n    public alertController: AlertController\n  ) {\n    moment.locale('pt-br');\n    this.inicializar();\n\n  }\n\n  public inicializar(): void {\n    this.mensagens = new MensagensUtil(this.aviso);\n    this.redirecionador = new RedirecionadorUtil(this.navCtrl);\n    this.listaEventosObservable = this.eventoService.listar();\n    this.listaEventosObservable.subscribe(async (response) => {\n      this.listaEventos = await this.verificarEventosExpirados(response);\n      this.listaEventosFiltrados = this.listaEventos;\n      this.numTotalEventos = this.listaEventos ? this.listaEventos.length : 0;\n      this.listaEventosFiltrados = this.listaEventosFiltrados ? (this.listaEventosFiltrados.sort((a, b) => moment.utc(b.data).diff(moment.utc(a.data)))) : new Array<Evento>();\n    });\n\n  }\n\n\n  public async confirmarExclusao(evento: Evento) {\n    const alert = await this.alertController.create({\n      header: 'Confirmação de exclusão',\n      message: 'Tem certeza que deseja excluir o evento selecionado?',\n      buttons: [\n        {\n          text: 'Não',\n          handler: () => {\n            this.alertController.dismiss();\n          },\n        },\n        {\n          text: 'Sim',\n          handler: () => {\n            this.excluirEvento(evento);\n          },\n        },\n      ],\n    });\n    await alert.present();\n  }\n\n  private excluirEvento(evento: Evento): void {\n    this.eventoService.deletar(evento.key);\n    this.mensagens.mensagemSucesso('Evento excluído com sucesso!');\n    this.inicializar();\n  }\n\n  public editarEvento(evento: Evento): void {\n    this.navCtrl.navigateForward('/editar/evento', {\n      state: { content: evento },\n    });\n  }\n\n  public pesquisarEvento(ev: any) {\n    this.listaEventosFiltrados = this.listaEventos;\n    const val = ev.detail.value;\n\n    if (val && val.trim() !== '') {\n      this.listaEventosFiltrados = this.listaEventosFiltrados.filter((term) => {\n        return term.nome.toUpperCase().indexOf(val.trim().toUpperCase()) > -1;\n      });\n    }\n  }\n\n  public async verificarEventosExpirados(response) {\n\n    var listaEvento = new Array<Evento>();\n    \n    await response.forEach(evento => {\n      if (!moment(evento.data).isBefore(moment(new Date()))) {\n        listaEvento.push(evento);\n      }\n    })\n\n    return listaEvento;\n\n  }\n\n}\n","export default \"ion-searchbar {\\n  margin-top: 15px;\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  font-family: \\\"Rubik\\\", sans-serif;\\n}\\n\\nion-title,\\nh1,\\n.informacao-membro,\\nh2 {\\n  font-family: \\\"Lexend\\\", sans-serif;\\n}\\n\\nh2 {\\n  color: #a57d51;\\n  text-align: center;\\n}\\n\\nh1 {\\n  font-size: 20px;\\n}\\n\\n.bt-editar {\\n  background: #2e2e3c;\\n}\\n\\n.bt-deletar {\\n  background: #a57d51;\\n}\\n\\n.icones {\\n  color: #fff;\\n  font-size: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2V2ZW50by5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0NBQUE7QUFDSjs7QUFFQTs7OztFQUlJLGlDQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7QUFDSjs7QUFFQTtFQUNJLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksV0FBQTtFQUNBLGVBQUE7QUFDSiIsImZpbGUiOiJldmVudG8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXNlYXJjaGJhciB7XG4gICAgbWFyZ2luLXRvcDogMTVweDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgZm9udC1mYW1pbHk6IFwiUnViaWtcIiwgc2Fucy1zZXJpZjtcbn1cblxuaW9uLXRpdGxlLFxuaDEsXG4uaW5mb3JtYWNhby1tZW1icm8sXG5oMiB7XG4gICAgZm9udC1mYW1pbHk6IFwiTGV4ZW5kXCIsIHNhbnMtc2VyaWY7XG59XG5cbmgyIHtcbiAgICBjb2xvcjogI2E1N2Q1MTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmgxIHtcbiAgICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5idC1lZGl0YXIge1xuICAgIGJhY2tncm91bmQ6ICMyZTJlM2M7XG59XG5cbi5idC1kZWxldGFyIHtcbiAgICBiYWNrZ3JvdW5kOiAjYTU3ZDUxO1xufVxuXG4uaWNvbmVzIHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBmb250LXNpemU6IDIwcHg7XG59Il19 */\";","export default \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"inicio\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>Total de eventos: {{numTotalEventos}}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <h2 *ngIf=\\\"numTotalEventos == 0\\\"> Não há eventos cadastrados.</h2>\\n\\n    <ion-searchbar *ngIf=\\\"numTotalEventos > 0\\\" (ionChange)=\\\"pesquisarEvento($event)\\\" placeholder=\\\"Digite o nome do evento\\\" color=\\\"tertiary\\\"></ion-searchbar>\\n    <ion-grid>\\n        <ion-row align-items-center justify-content-center>\\n            <ion-col>\\n                <ion-list>\\n                    <ion-item-sliding *ngFor=\\\"let evento of listaEventosFiltrados\\\">\\n                        <ion-item text-wrap class=\\\"item-text-wrap\\\">\\n                            <ion-label class=\\\"informacao-membro\\\" text-wrap>\\n                                <h1 class=\\\"content-title\\\">{{evento.nome}}</h1>\\n                                {{evento.responsavel? 'Responsável: '.concat(evento.responsavel) : '' }}\\n                            </ion-label>\\n                        </ion-item>\\n                        <ion-item-options side=\\\"start\\\">\\n                            <button ion-button (click)=\\\"editarEvento(evento)\\\" class=\\\"bt-editar\\\">\\n                <ion-icon class=\\\"icones\\\" name=\\\"create\\\"></ion-icon>\\n              </button>\\n\\n                            <button (click)=\\\"confirmarExclusao(evento)\\\" ion-button class=\\\"bt-deletar\\\">\\n                <ion-icon class=\\\"icones\\\" name=\\\"trash\\\"></ion-icon>\\n              </button>\\n                        </ion-item-options>\\n                    </ion-item-sliding>\\n                </ion-list>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EventoPageRoutingModule } from './evento-routing.module';\n\nimport { EventoPage } from './evento.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EventoPageRoutingModule\n  ],\n  declarations: [EventoPage]\n})\nexport class EventoPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EventoPage } from './evento.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventoPageRoutingModule {}\n","import { ToastController } from \"@ionic/angular\";\n\nexport class MensagensUtil {\n\n    constructor(private aviso: ToastController) { };\n\n    public async mensagemSucesso(message: string) {\n        const exibirMensagem = this.aviso.create({id:'sucesso', position: 'top', message: message, duration: 3000, color: 'success' });\n        (await exibirMensagem).present();\n    }\n\n    public async mensagemError(error: string) {\n        const exibirMensagem = this.aviso.create({ id:'error', position: 'top', message: error, duration: 3000, color: 'danger' });\n        (await exibirMensagem).present();\n    }\n\n    public async mensagemAlerta(message: string) {\n        const exibirMensagem = this.aviso.create({ id:'alerta', position: 'top', message: message, duration: 3000, color: 'warning' });\n        (await exibirMensagem).present();\n    }\n}"],"sourceRoot":"webpack:///"}
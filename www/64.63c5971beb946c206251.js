(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{nPj0:function(o,a,t){"use strict";t.r(a),t.d(a,"CargoPageModule",function(){return v});var i=t("ofXK"),e=t("3Pt+"),n=t("TEn/"),s=t("tyNb"),r=t("8cY0"),c=t("JM5f"),l=t("sZxV"),m=t("fXoL"),d=t("fX5e"),u=t("EhKG"),b=t("/oCc");function g(o,a){if(1&o&&(m.Ob(0,"ion-select-option",16),m.ic(1),m.Nb()),2&o){const o=a.$implicit;m.bc("value",o.nomeCompleto),m.Bb(1),m.kc(" ",o.nomeCompleto," ")}}const p=function(){return{mask:"00/00/0000",len:10}},f=[{path:"",component:(()=>{class o{constructor(o,a,t,i,e){this.formulador=o,this.membroService=a,this.aviso=t,this.cargoService=i,this.router=e,this.mensagens=new l.a(this.aviso);const n=this.router.getCurrentNavigation();this.cargo=n.extras.state.content,this.ajustarDatas(),this.inicializar()}inicializar(){this.listaMembrosObservable=this.membroService.listar(),this.listaMembrosObservable.subscribe(o=>{this.membrosAtivos=o,this.membrosAtivos=this.membrosAtivos.filter(o=>"Ativo"===o.situacao),this.membrosAtivos.sort((o,a)=>o.nomeCompleto>a.nomeCompleto?1:a.nomeCompleto>o.nomeCompleto?-1:0)}),this.criarFormulario(),this.formulario.controls.responsavel.setValue(this.cargo.responsavel)}criarFormulario(){this.formulario=this.formulador.group({key:[this.cargo.key,e.n.required],responsavel:[this.cargo.responsavel,e.n.required],dataInicio:[this.cargo.dataInicioResponsavel,e.n.required],dataFim:[this.cargo.dataFimResponsavel,e.n.required],descricao:[this.cargo.descricao],nome:[this.cargo.nome,e.n.required]})}ajustarDatas(){this.cargo.dataInicioResponsavel&&(this.cargo.dataInicioResponsavel=this.cargo.dataInicioResponsavel.includes("/")?this.cargo.dataInicioResponsavel:c.a.dateFormatterBrazil(this.cargo.dataInicioResponsavel)),this.cargo.dataFimResponsavel&&(this.cargo.dataFimResponsavel=this.cargo.dataFimResponsavel.includes("/")?this.cargo.dataFimResponsavel:c.a.dateFormatterBrazil(this.cargo.dataFimResponsavel))}associar(){this.formulario.value&&(this.isDataFimEnable(!0),this.formulario.controls.dataFim.enable(),this.formulario.value.dataFim&&!c.a.verificarIsDataValida(this.formulario.value.dataFim)?this.mensagens.mensagemError("A data informada no campo 'Data Fim' n\xe3o \xe9 v\xe1lida."):this.formulario.value.dataInicio&&!c.a.verificarIsDataValida(this.formulario.value.dataInicio)?this.mensagens.mensagemError("A data informada no campo 'Data In\xedcio' n\xe3o \xe9 v\xe1lida."):c.a.isDataFutura(this.formulario.value.dataInicio)?this.mensagens.mensagemError("N\xe3o \xe9 permitido data futura para o campo 'Data In\xedcio'"):c.a.isDataDoisMaiorDataUm(this.formulario.value.dataInicio,this.formulario.value.dataFim)&&!c.a.isDatasIguais(this.formulario.value.dataFim,this.formulario.value.dataInicio)?this.mensagens.mensagemError("A 'Data In\xedcio' n\xe3o pode ser maior que a 'Data Fim'."):c.a.isDatasIguais(this.formulario.value.dataInicio,this.formulario.value.dataFim)?this.mensagens.mensagemError("As datas 'Data In\xedcio' e 'Data Fim' n\xe3o podem ser iguais."):c.a.numeroDiasEntreDuasDatas(this.formulario.value.dataInicio,this.formulario.value.dataFim)>=731?this.mensagens.mensagemError("O respons\xe1vel pode assumir um cargo com dura\xe7\xe3o m\xe1xima de dois anos."):(this.cargo=class{static formularioToCargo(o){let a=new r.a;return a.nome=o.nome.toString().toUpperCase(),a.descricao=o.descricao.toString().toUpperCase(),a.key=o.key,o.responsavel&&(a.responsavel=o.responsavel),o.dataInicio&&(a.dataInicioResponsavel=o.dataInicio),o.dataFim&&(a.dataFimResponsavel=o.dataFim),a}}.formularioToCargo(this.formulario.value),this.cargoService.adicionarOuAtualizar(this.cargo),this.mensagens.mensagemSucesso("Associa\xe7\xe3o realizada com sucesso!")),this.isDataFimEnable(!1))}calcularDataFinal(o){let a=o.target.value;c.a.verificarIsDataValida(a)&&(this.formulario.controls.dataFim.setValue(c.a.calcularData(a,2)),this.isDataFimEnable(!1))}isDataFimEnable(o){o?this.formulario.controls.dataFim.enable():this.formulario.controls.dataFim.disable()}}return o.\u0275fac=function(a){return new(a||o)(m.Lb(e.a),m.Lb(d.a),m.Lb(n.M),m.Lb(u.a),m.Lb(s.g))},o.\u0275cmp=m.Fb({type:o,selectors:[["app-cargo"]],decls:39,vars:9,consts:[["color","primary"],["slot","start"],["defaultHref","inicio"],["padding",""],[3,"formGroup"],[1,"row-item"],["mode","md","position","stacked",1,"titulo-dado"],["mode","md","formControlName","nome","type","text",3,"disabled"],["mode","md","position","stacked",1,"titulo-dado-select"],["placeholder","Selecione uma op\xe7\xe3o","formControlName","responsavel","multiple","false","interface","popover",3,"selectedText"],[3,"value",4,"ngFor","ngForOf"],["mode","md","formControlName","dataInicio","maxlength","10",3,"brmasker","ionBlur"],["mode","md","formControlName","dataFim","maxlength","10",3,"brmasker"],[1,"ion-no-border"],["no-padding","","id","rodape"],["mode","md","type","submit","fill","solid","expand","full",3,"disabled","click"],[3,"value"]],template:function(o,a){1&o&&(m.Ob(0,"ion-header"),m.Ob(1,"ion-toolbar",0),m.Ob(2,"ion-buttons",1),m.Mb(3,"ion-back-button",2),m.Nb(),m.Ob(4,"ion-title"),m.ic(5,"Associar cargo"),m.Nb(),m.Nb(),m.Nb(),m.Ob(6,"ion-content",3),m.Ob(7,"form",4),m.Ob(8,"ion-grid"),m.Ob(9,"ion-row"),m.Ob(10,"ion-col"),m.Ob(11,"ion-item",5),m.Ob(12,"ion-label",6),m.ic(13,"Cargo"),m.Nb(),m.Mb(14,"ion-input",7),m.Nb(),m.Nb(),m.Nb(),m.Ob(15,"ion-row"),m.Ob(16,"ion-col"),m.Ob(17,"ion-label",8),m.ic(18,"Respons\xe1vel"),m.Nb(),m.Ob(19,"ion-select",9),m.hc(20,g,2,2,"ion-select-option",10),m.Nb(),m.Nb(),m.Nb(),m.Ob(21,"ion-row"),m.Ob(22,"ion-col"),m.Ob(23,"ion-item",5),m.Ob(24,"ion-label",6),m.ic(25,"Data In\xedcio"),m.Nb(),m.Ob(26,"ion-input",11),m.Wb("ionBlur",function(o){return a.calcularDataFinal(o)}),m.Nb(),m.Nb(),m.Nb(),m.Ob(27,"ion-col"),m.Ob(28,"ion-item",5),m.Ob(29,"ion-label",6),m.ic(30,"Data Fim"),m.Nb(),m.Mb(31,"ion-input",12),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(32,"ion-footer",13),m.Ob(33,"ion-toolbar",14),m.Ob(34,"ion-grid"),m.Ob(35,"ion-row"),m.Ob(36,"ion-col"),m.Ob(37,"ion-button",15),m.Wb("click",function(){return a.associar()}),m.ic(38," Associar"),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb()),2&o&&(m.Bb(7),m.bc("formGroup",a.formulario),m.Bb(7),m.bc("disabled",!0),m.Bb(5),m.bc("selectedText",a.formulario.get("responsavel").value),m.Bb(1),m.bc("ngForOf",a.membrosAtivos),m.Bb(6),m.bc("brmasker",m.cc(7,p)),m.Bb(5),m.bc("brmasker",m.cc(8,p)),m.Bb(6),m.bc("disabled",a.formulario.invalid))},directives:[n.l,n.E,n.g,n.d,n.e,n.D,n.i,e.o,e.k,e.d,n.k,n.v,n.h,n.o,n.r,n.n,n.L,e.j,e.c,n.x,n.K,i.i,e.f,b.a,n.j,n.f,n.y],styles:[".titulo-dado[_ngcontent-%COMP%], .titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}#rodape[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{--background:#e6e6e6}.titulo-dado[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{color:#2e2e3c}h2[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:Lexend,sans-serif}ion-input[_ngcontent-%COMP%]{text-transform:uppercase;font-size:9pt}ion-select[_ngcontent-%COMP%]{font-size:10pt}#cabecalho[_ngcontent-%COMP%]{--background:#2e2e3c;color:#fff}.titulo-dado[_ngcontent-%COMP%]{font-size:11pt}.titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%]{font-size:8.3pt}.titulo-dado-select[_ngcontent-%COMP%]{margin-left:1%}.titulo-dado-batismo[_ngcontent-%COMP%]{margin-left:4%}h2[_ngcontent-%COMP%]{font-size:13pt;font-weight:bolder;margin-left:1%}span[_ngcontent-%COMP%]{color:#eb445a}  .mycomponent-wider-popover{--width:95%;--max-width:600px}"]}),o})()}];let h=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=m.Jb({type:o}),o.\u0275inj=m.Ib({imports:[[s.i.forChild(f)],s.i]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=m.Jb({type:o}),o.\u0275inj=m.Ib({imports:[[i.c,e.e,n.F,h,e.m,b.b]]}),o})()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{mGz3:function(o,e,i){"use strict";i.r(e),i.d(e,"EventoPageModule",function(){return y});var n=i("ofXK"),t=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),l=i("mrSG"),s=i("tHhQ"),b=i("/FaQ"),c=i("U7Ex"),m=i("JM5f"),d=i("itSG"),u=i("sZxV"),h=i("fXoL"),p=i("662k"),f=i("Gchg"),O=i("fX5e"),N=i("/oCc");function v(o,e){if(1&o&&(h.Ob(0,"ion-select-option",25),h.ic(1),h.Nb()),2&o){const o=e.$implicit;h.bc("value",o),h.Bb(1),h.kc(" ",o," ")}}function g(o,e){if(1&o&&(h.Ob(0,"ion-select-option",25),h.ic(1),h.Nb()),2&o){const o=e.$implicit;h.bc("value",o),h.Bb(1),h.kc(" ",o," ")}}function C(o,e){if(1&o&&(h.Ob(0,"ion-select-option",25),h.ic(1),h.Nb()),2&o){const o=e.$implicit;h.bc("value",o.nomeCompleto),h.Bb(1),h.kc(" ",o.nomeCompleto," ")}}const M=function(){return{mask:"00/00/0000",len:10}},x=[{path:"",component:(()=>{class o{constructor(o,e,i,n,t){this.formulador=o,this.eventoService=e,this.aviso=i,this.consultaCep=n,this.membroService=t,this.listaMembrosObservable=this.membroService.listar(),this.mensagens=new u.a(this.aviso),this.inicializar()}inicializar(){this.evento=new c.a,this.evento.local=new b.a,this.horarios=d.a.horarios(),this.listaMembrosObservable.subscribe(o=>{this.membrosAtivos=o,this.membrosAtivos=this.membrosAtivos.filter(o=>"Ativo"==o.situacao),this.membrosAtivos.sort((o,e)=>o.nomeCompleto>e.nomeCompleto?1:e.nomeCompleto>o.nomeCompleto?-1:0)}),this.criarFormulario()}criarFormulario(){this.formulario=this.formulador.group({data:[this.evento.data,t.n.required],horarioInicio:[this.evento.horarioInicio,t.n.required],horarioFim:[this.evento.horarioFim,t.n.required],nome:[this.evento.nome,t.n.required],observacoes:[this.evento.observacoes],responsavel:[this.evento.responsavel,t.n.required],cep:[this.evento.local.cep,t.n.required],logradouro:[this.evento.local.logradouro,t.n.required],numero:[this.evento.local.numero,t.n.required],complemento:[this.evento.local.complemento],bairro:[this.evento.local.bairro,t.n.required],cidade:[this.evento.local.cidade,t.n.required],estado:[this.evento.local.estado,t.n.required]})}buscarEndereco(o){return Object(l.b)(this,void 0,void 0,function*(){o.target.value?yield this.consultaCep.buscaEndereco(o.target.value).then(o=>{const e=o;e&&(this.formulario.controls.bairro.setValue(e.bairro),this.formulario.controls.cidade.setValue(e.localidade),this.formulario.controls.estado.setValue(e.uf),this.formulario.controls.logradouro.setValue(e.logradouro),this.disableEndereco(!0))},o=>{this.mensagens.mensagemAlerta("Cep n\xe3o encontrado, por favor insira os dados manualmente.")}):(this.formulario.controls.bairro.setValue(null),this.formulario.controls.cidade.setValue(null),this.formulario.controls.estado.setValue(null),this.formulario.controls.logradouro.setValue(null),this.disableEndereco(!1))})}disableEndereco(o){o?(this.formulario.controls.bairro.disable(),this.formulario.controls.cidade.disable(),this.formulario.controls.estado.disable(),this.formulario.controls.logradouro.disable()):(this.formulario.controls.bairro.enable(),this.formulario.controls.cidade.enable(),this.formulario.controls.estado.enable(),this.formulario.controls.logradouro.enable())}cadastrar(){this.formulario.value&&(this.formulario.value.data&&!m.a.verificarIsDataValida(this.formulario.value.data)?this.mensagens.mensagemError("A data informada no campo 'Data' n\xe3o \xe9 v\xe1lida."):this.verificarHorariosEncontro()?(this.disableEndereco(!1),this.evento=s.a.formularioToEvento(this.formulario.value),this.eventoService.adicionarOuAtualizar(this.evento),this.mensagens.mensagemSucesso("Cadastro realizado com sucesso!"),this.disableEndereco(!0),this.inicializar()):this.mensagens.mensagemError("O hor\xe1rio final deve ser maior que o hor\xe1rio inicial."))}verificarHorariosEncontro(){let o=!1;return this.evento.horarioInicio&&this.evento.horarioFim&&m.a.verificarIntervaloHora(this.evento.horarioInicio,this.evento.horarioFim)&&(o=!0),o}}return o.\u0275fac=function(e){return new(e||o)(h.Lb(t.a),h.Lb(p.a),h.Lb(r.M),h.Lb(f.a),h.Lb(O.a))},o.\u0275cmp=h.Fb({type:o,selectors:[["app-evento"]],decls:114,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","inicio"],[3,"formGroup"],["mode","md","position","stacked",1,"titulo-dado"],["mode","md","formControlName","nome","minlength","3","type","text","maxlength","100"],["mode","md","placeholder","dd/mm/yyyy","formControlName","data",3,"brmasker"],[1,"row-item"],["mode","md","formControlName","cep","maxlength","9","type","text",3,"ionBlur"],["mode","md","formControlName","logradouro","maxlength","100","type","text"],["mode","md","formControlName","numero","type","number",3,"min","max"],["mode","md","formControlName","complemento","maxlength","100","type","text"],["mode","md","formControlName","bairro","maxlength","100","type","text"],["mode","md","formControlName","cidade","maxlength","100","type","text"],["position","stacked",1,"titulo-dado"],["formControlName","estado","maxlength","100","type","text"],["mode","md","position","stacked",1,"titulo-dado-select-acesso"],["formControlName","horarioInicio","placeholder","Selecione um hor\xe1rio","multiple","false","interface","popover",1,"horario",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","horarioFim","placeholder","Selecione um hor\xe1rio","multiple","false","interface","popover",1,"horario",3,"ngModel","ngModelChange"],["formControlName","responsavel","placeholder","Selecione um membro","multiple","false","interface","popover",1,"horario"],["mode","md","formControlName","observacoes","maxlength","100","type","text"],[1,"ion-no-border"],["no-padding","","id","rodape"],["mode","md","type","submit","fill","solid","expand","full",3,"disabled","click"],[3,"value"]],template:function(o,e){1&o&&(h.Ob(0,"ion-header"),h.Ob(1,"ion-toolbar",0),h.Ob(2,"ion-buttons",1),h.Mb(3,"ion-back-button",2),h.Nb(),h.Ob(4,"ion-title"),h.ic(5,"Cadastro de evento"),h.Nb(),h.Nb(),h.Nb(),h.Ob(6,"ion-content"),h.Ob(7,"form",3),h.Ob(8,"ion-grid"),h.Ob(9,"h2"),h.ic(10,"Informa\xe7\xf5es do Evento"),h.Nb(),h.Ob(11,"ion-row"),h.Ob(12,"ion-col"),h.Ob(13,"ion-item"),h.Ob(14,"ion-label",4),h.ic(15,"Nome "),h.Ob(16,"span"),h.ic(17,"*"),h.Nb(),h.Nb(),h.Mb(18,"ion-input",5),h.Nb(),h.Nb(),h.Ob(19,"ion-col"),h.Ob(20,"ion-item"),h.Ob(21,"ion-label",4),h.ic(22,"Data "),h.Ob(23,"span"),h.ic(24,"*"),h.Nb(),h.Nb(),h.Mb(25,"ion-input",6),h.Nb(),h.Nb(),h.Nb(),h.Ob(26,"h2"),h.ic(27,"Local e Hor\xe1rio"),h.Nb(),h.Ob(28,"ion-row"),h.Ob(29,"ion-col"),h.Ob(30,"ion-item",7),h.Ob(31,"ion-label",4),h.ic(32,"CEP "),h.Ob(33,"span"),h.ic(34,"*"),h.Nb(),h.Nb(),h.Ob(35,"ion-input",8),h.Wb("ionBlur",function(o){return e.buscarEndereco(o)}),h.Nb(),h.Nb(),h.Nb(),h.Ob(36,"ion-col"),h.Ob(37,"ion-item",7),h.Ob(38,"ion-label",4),h.ic(39,"Logradouro "),h.Ob(40,"span"),h.ic(41,"*"),h.Nb(),h.Nb(),h.Mb(42,"ion-input",9),h.Nb(),h.Nb(),h.Ob(43,"ion-col"),h.Ob(44,"ion-item",7),h.Ob(45,"ion-label",4),h.ic(46,"N\xfamero "),h.Ob(47,"span"),h.ic(48,"*"),h.Nb(),h.Nb(),h.Mb(49,"ion-input",10),h.Nb(),h.Nb(),h.Ob(50,"ion-col"),h.Ob(51,"ion-item",7),h.Ob(52,"ion-label",4),h.ic(53,"Complemento"),h.Nb(),h.Mb(54,"ion-input",11),h.Nb(),h.Nb(),h.Nb(),h.Ob(55,"ion-row"),h.Ob(56,"ion-col"),h.Ob(57,"ion-item",7),h.Ob(58,"ion-label",4),h.ic(59,"Bairro "),h.Ob(60,"span"),h.ic(61,"*"),h.Nb(),h.Nb(),h.Mb(62,"ion-input",12),h.Nb(),h.Nb(),h.Ob(63,"ion-col"),h.Ob(64,"ion-item",7),h.Ob(65,"ion-label",4),h.ic(66,"Cidade "),h.Ob(67,"span"),h.ic(68,"*"),h.Nb(),h.Nb(),h.Mb(69,"ion-input",13),h.Nb(),h.Nb(),h.Ob(70,"ion-col"),h.Ob(71,"ion-item",7),h.Ob(72,"ion-label",14),h.ic(73,"Estado "),h.Ob(74,"span"),h.ic(75,"*"),h.Nb(),h.Nb(),h.Mb(76,"ion-input",15),h.Nb(),h.Nb(),h.Nb(),h.Ob(77,"ion-row"),h.Ob(78,"ion-col"),h.Ob(79,"ion-label",16),h.ic(80,"Hor\xe1rio inicial "),h.Ob(81,"span"),h.ic(82,"*"),h.Nb(),h.Nb(),h.Ob(83,"ion-select",17),h.Wb("ngModelChange",function(o){return e.evento.horarioInicio=o}),h.hc(84,v,2,2,"ion-select-option",18),h.Nb(),h.Nb(),h.Ob(85,"ion-col"),h.Ob(86,"ion-label",16),h.ic(87,"Hor\xe1rio final "),h.Ob(88,"span"),h.ic(89,"*"),h.Nb(),h.Nb(),h.Ob(90,"ion-select",19),h.Wb("ngModelChange",function(o){return e.evento.horarioFim=o}),h.hc(91,g,2,2,"ion-select-option",18),h.Nb(),h.Nb(),h.Nb(),h.Ob(92,"h2"),h.ic(93,"Informa\xe7\xf5es Gerais"),h.Nb(),h.Ob(94,"ion-row"),h.Ob(95,"ion-col"),h.Ob(96,"ion-label",16),h.ic(97,"Membro respons\xe1vel"),h.Ob(98,"span"),h.ic(99,"*"),h.Nb(),h.Nb(),h.Ob(100,"ion-select",20),h.hc(101,C,2,2,"ion-select-option",18),h.Nb(),h.Nb(),h.Ob(102,"ion-col"),h.Ob(103,"ion-item"),h.Ob(104,"ion-label",4),h.ic(105,"Observa\xe7\xf5es"),h.Nb(),h.Mb(106,"ion-textarea",21),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Ob(107,"ion-footer",22),h.Ob(108,"ion-toolbar",23),h.Ob(109,"ion-grid"),h.Ob(110,"ion-row"),h.Ob(111,"ion-col"),h.Ob(112,"ion-button",24),h.Wb("click",function(){return e.cadastrar()}),h.ic(113," Cadastrar"),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb()),2&o&&(h.Bb(7),h.bc("formGroup",e.formulario),h.Bb(18),h.bc("brmasker",h.cc(10,M)),h.Bb(24),h.bc("min",0)("max",99999),h.Bb(34),h.bc("ngModel",e.evento.horarioInicio),h.Bb(1),h.bc("ngForOf",e.horarios),h.Bb(6),h.bc("ngModel",e.evento.horarioFim),h.Bb(1),h.bc("ngForOf",e.horarios),h.Bb(10),h.bc("ngForOf",e.membrosAtivos),h.Bb(11),h.bc("disabled",e.formulario.invalid))},directives:[r.l,r.E,r.g,r.d,r.e,r.D,r.i,t.o,t.k,t.d,r.k,r.v,r.h,r.o,r.r,r.n,r.L,t.j,t.c,t.g,t.f,N.a,r.I,r.x,r.K,n.i,r.C,r.j,r.f,r.y],styles:[".titulo-dado[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}#rodape[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{--background:#e6e6e6}.titulo-dado[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{color:#2e2e3c}h2[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:Lexend,sans-serif}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{text-transform:uppercase;font-size:11pt}ion-select[_ngcontent-%COMP%]{font-size:10pt}.titulo-dado[_ngcontent-%COMP%]{font-size:13pt}.titulo-dado-select-acesso[_ngcontent-%COMP%]{font-size:10pt;margin-left:2.5%}h2[_ngcontent-%COMP%]{font-size:13pt;font-weight:bolder;margin-left:1%}span[_ngcontent-%COMP%]{color:#eb445a}  .mycomponent-wider-popover{--width:95%;--max-width:600px}"]}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=h.Jb({type:o}),o.\u0275inj=h.Ib({imports:[[a.i.forChild(x)],a.i]}),o})(),y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=h.Jb({type:o}),o.\u0275inj=h.Ib({imports:[[n.c,t.e,r.F,P,N.b,t.m]]}),o})()}}]);
{"version":3,"sources":["webpack:///src/app/pages/consultorio/consultorio-routing.module.ts","webpack:///src/app/util/DateUtil.ts","webpack:///src/app/pages/consultorio/consultorio.module.ts","webpack:///src/app/pages/consultorio/consultorio.page.html","webpack:///src/app/pages/consultorio/consultorio.page.scss","webpack:///src/app/pages/consultorio/consultorio.page.ts"],"names":["routes","path","component","ConsultorioPageRoutingModule","imports","forChild","exports","DateUtil","dataUm","dataDois","dateFormatterAmerica","isBefore","data","isAfter","Date","toLocaleDateString","isSame","split","reverse","join","format","dataInicio","dataFim","numeroDias","diff","asDays","dataValida","isValid","dias","add","subtract","horaI","horaF","horaInicial","Number","substring","concat","horaFinal","dataNasc","idade","ConsultorioPageModule","declarations","ConsultorioPage","modalController","diarioService","inicializar","listaDiariosObservable","listar","subscribe","response","listaDiarios","listaDiariosFiltrados","numTotalRegistros","length","usuarioLogado","dadosUsuarioLogado","filter","d","uIdPsicologo","uid","create","cssClass","modal","present","dateFormatterBrazil","ev","val","detail","value","trim","term","nomePaciente","toUpperCase","indexOf","selector","template"],"mappings":"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","file":"pages-consultorio-consultorio-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConsultorioPage } from './consultorio.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConsultorioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConsultorioPageRoutingModule {}\n","import * as moment from \"moment\";\r\n\r\nexport class DateUtil {\r\n  constructor() {\r\n    moment.locale(\"pt-br\");\r\n  }\r\n\r\n  public static isDataDoisMaiorDataUm(dataUm: any, dataDois: any): boolean {\r\n    return moment(this.dateFormatterAmerica(dataDois)).isBefore(\r\n      this.dateFormatterAmerica(dataUm)\r\n    );\r\n  }\r\n\r\n  public static isDataFutura(data: any): boolean {\r\n    return moment(this.dateFormatterAmerica(data)).isAfter(\r\n      this.dateFormatterAmerica(new Date().toLocaleDateString())\r\n    );\r\n  }\r\n\r\n  public static isDatasIguais(dataUm: any, dataDois: any): boolean {\r\n    return moment(this.dateFormatterAmerica(dataDois)).isSame(\r\n      this.dateFormatterAmerica(dataUm)\r\n    );\r\n  }\r\n\r\n  private static dateFormatterAmerica(data: any): any {\r\n    return data.split(\"/\").reverse().join(\"-\");\r\n  }\r\n\r\n  public static dateFormatterBrazil(data: string): any {\r\n    return moment(data).format(\"DD/MM/YYYY\");\r\n  }\r\n\r\n  public static numeroDiasEntreDuasDatas(dataUm: any, dataDois: any) {\r\n    const dataInicio = moment(dataUm);\r\n    const dataFim = moment(dataDois);\r\n    const numeroDias = moment.duration(dataFim.diff(dataInicio));\r\n    return numeroDias.asDays();\r\n  }\r\n\r\n  public static verificarIsDataValida(data: any): boolean {\r\n    const dataValida = moment(this.dateFormatterAmerica(data));\r\n    return dataValida.isValid();\r\n  }\r\n\r\n  public static calcularData(data: any, dias: number) {\r\n    return moment(data)\r\n      .add(dias, \"year\")\r\n      .subtract(1, \"days\")\r\n      .format(\"YYYY-MM-DD\");\r\n  }\r\n\r\n  public static verificarIntervaloHora(horaI: any, horaF: any): boolean {\r\n    let horaInicial =\r\n      Number(horaI.substring(0, 2)) < 12\r\n        ? moment(horaI.concat(\"am\"), \"hh:mma\")\r\n        : moment(horaI.concat(\"pm\"), \"hh:mmp\");\r\n    let horaFinal =\r\n      Number(horaF.substring(0, 2)) < 12\r\n        ? moment(horaF.concat(\"am\"), \"hh:mma\")\r\n        : moment(horaF.concat(\"pm\"), \"hh:mmp\");\r\n    return horaInicial.isBefore(horaFinal);\r\n  }\r\n\r\n  public static isIdadeMaiorDozeAnos(dataNasc: string): boolean {\r\n    let idade = moment().diff(this.dateFormatterAmerica(dataNasc), \"years\");\r\n    return idade >= 12;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConsultorioPageRoutingModule } from './consultorio-routing.module';\n\nimport { ConsultorioPage } from './consultorio.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ConsultorioPageRoutingModule\n  ],\n  declarations: [ConsultorioPage]\n})\nexport class ConsultorioPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"inicio\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-row>\\n    <ion-col class=\\\"ion-align-self-start\\\">\\n      <h1 style=\\\"margin-left: 40%; font-weight: bold\\\">\\n        Registros dos Pacientes\\n      </h1>\\n    </ion-col>\\n    <ion-col class=\\\"ion-align-self-center\\\"> </ion-col>\\n    <ion-col class=\\\"ion-align-self-end\\\"> </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col class=\\\"ion-align-self-start\\\"> </ion-col>\\n    <ion-col class=\\\"ion-align-self-center\\\">\\n      <ion-button\\n        style=\\\"margin-left: 62.5%\\\"\\n        color=\\\"primary\\\"\\n        (click)=\\\"abriModal()\\\"\\n        >Adicionar um registro</ion-button\\n      >\\n    </ion-col>\\n    <ion-col class=\\\"ion-align-self-end\\\"> </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col class=\\\"ion-align-self-start\\\"> </ion-col>\\n    <ion-col class=\\\"ion-align-self-center\\\">\\n      <h2 *ngIf=\\\"numTotalRegistros === 0\\\">Não há registros dos pacientes.</h2>\\n      <ion-searchbar\\n        *ngIf=\\\"numTotalRegistros > 0\\\"\\n        (ionChange)=\\\"pesquisarPacientes($event)\\\"\\n        placeholder=\\\"Digite o nome do paciente.\\\"\\n        color=\\\"tertiary\\\"\\n      ></ion-searchbar>\\n      <ion-list>\\n        <ion-item *ngFor=\\\"let diario of listaDiariosFiltrados\\\">\\n          <ion-card>\\n            <ion-card-header>\\n              <ion-card-subtitle>{{diario.nomePaciente}}</ion-card-subtitle>\\n              <ion-card-title\\n                >{{formatarData(diario.dataRegistro)}}</ion-card-title\\n              >\\n            </ion-card-header>\\n\\n            <ion-card-content> {{diario.registro}} </ion-card-content>\\n          </ion-card>\\n        </ion-item>\\n      </ion-list>\\n    </ion-col>\\n    <ion-col class=\\\"ion-align-self-end\\\"> </ion-col>\\n  </ion-row>\\n</ion-content>\\n\";","export default \"ion-card {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxjb25zdWx0b3Jpby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FBQ0oiLCJmaWxlIjoiY29uc3VsdG9yaW8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn0iXX0= */\";","import { DadosUsuarioUtil } from \"./../../util/DadosUsuarioUtil\";\nimport { RegistroConsultorioModalPage } from \"./../componentes/registro-consultorio-modal/registro-consultorio-modal.page\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { ModalController } from \"@ionic/angular\";\nimport { Observable } from \"rxjs\";\nimport { Diario } from \"src/app/modelo/Diario\";\nimport { DiarioService } from \"src/app/servicos/Diario\";\nimport { DateUtil } from \"src/app/util/DateUtil\";\n\n@Component({\n  selector: \"app-consultorio\",\n  templateUrl: \"./consultorio.page.html\",\n  styleUrls: [\"./consultorio.page.scss\"],\n})\nexport class ConsultorioPage implements OnInit {\n  listaDiarios: Diario[];\n  listaDiariosFiltrados: Diario[];\n  numTotalRegistros: number;\n  listaDiariosObservable: Observable<any[]>;\n\n  constructor(\n    public modalController: ModalController,\n    private diarioService: DiarioService\n  ) {\n    this.inicializar();\n  }\n\n  ngOnInit() {}\n\n  public inicializar() {\n    this.listaDiariosObservable = this.diarioService.listar();\n    this.listaDiariosObservable.subscribe((response) => {\n      this.listaDiarios = response;\n      this.listaDiariosFiltrados = response;\n      this.numTotalRegistros = this.listaDiarios.length;\n    });\n  }\n\n  filtrarPorPsicologo(listaDiarios: Diario[]) {\n    let usuarioLogado = DadosUsuarioUtil.dadosUsuarioLogado();\n\n    return listaDiarios.filter((d) => {\n      d.uIdPsicologo === usuarioLogado.uid;\n    });\n  }\n\n  async abriModal() {\n    const modal = await this.modalController.create({\n      component: RegistroConsultorioModalPage,\n      cssClass: \"my-custom-class\",\n    });\n    return await modal.present();\n  }\n\n  formatarData(data) {\n    return DateUtil.dateFormatterBrazil(data);\n  }\n\n  pesquisarPacientes(ev: any) {\n    this.listaDiariosFiltrados = this.listaDiarios;\n    const val = ev.detail.value;\n\n    if (val && val.trim() !== \"\") {\n      this.listaDiariosFiltrados = this.listaDiariosFiltrados.filter((term) => {\n        return (\n          term.nomePaciente.toUpperCase().indexOf(val.trim().toUpperCase()) > -1\n        );\n      });\n    }\n  }\n}\n"]}
(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{"2r89":function(o,e,t){"use strict";t.r(e),t.d(e,"MembroPageModule",function(){return P});var i=t("ofXK"),a=t("3Pt+"),r=t("TEn/"),n=t("tyNb"),s=t("mrSG"),m=t("JpJ2"),l=t("JM5f"),b=t("0z2X"),c=t("sZxV"),d=t("VFuG"),u=t("fXoL"),p=t("fX5e"),h=t("Gchg"),f=t("/oCc");function N(o,e){if(1&o&&(u.Ob(0,"ion-select-option",37),u.ic(1),u.Nb()),2&o){const o=e.$implicit;u.bc("value",o.id),u.Bb(1),u.kc(" ",o.valor," ")}}function O(o,e){if(1&o&&(u.Ob(0,"ion-select-option",37),u.ic(1),u.Nb()),2&o){const o=e.$implicit;u.bc("value",o.id),u.Bb(1),u.kc(" ",o.valor," ")}}const g=function(){return{mask:"00/00/0000",len:10}},C=function(){return{phone:!0}},v=function(){return{cssClass:"mycomponent-wider-popover"}},M=[{path:"",component:(()=>{class o{constructor(o,e,t,i,a){this.formulador=o,this.membroService=e,this.aviso=t,this.consultaCep=i,this.router=a,this.estadoCivil=[],this.escolaridade=[],this.desabilitarCampoEmail=!0;const r=this.router.getCurrentNavigation();this.membro=r.extras.state.content,this.ajustarDatas(),this.inicializar()}inicializar(){this.mensagens=new c.a(this.aviso),this.estadoCivil=b.a.estadoCivil(),this.escolaridade=b.a.escolaridade(),this.criarFormulario()}ajustarDatas(){this.membro.dataBatismo&&(this.membro.dataBatismo=this.membro.dataBatismo.includes("/")?this.membro.dataBatismo:l.a.dateFormatterBrazil(this.membro.dataBatismo)),this.membro.dataNascimento&&(this.membro.dataNascimento=this.membro.dataNascimento.includes("/")?this.membro.dataNascimento:l.a.dateFormatterBrazil(this.membro.dataNascimento)),this.membro.membroDesde&&(this.membro.membroDesde=this.membro.membroDesde.includes("/")?this.membro.membroDesde:l.a.dateFormatterBrazil(this.membro.membroDesde))}criarFormulario(){this.formulario=this.formulador.group({key:[this.membro.key,a.n.required],cpf:[this.membro.cpf,a.n.required],nomeCompleto:[this.membro.nomeCompleto,a.n.required],dataNascimento:[this.membro.dataNascimento,a.n.required],telefone:[this.membro.telefone,a.n.required],whatsapp:[this.membro.whatsapp],email:[this.membro.email],profissao:[this.membro.profissao,a.n.required],estadoCivil:[this.membro.estadoCivil,a.n.required],escolaridade:[this.membro.escolaridade,a.n.required],trabalhandoAtualmente:[this.membro.trabalhandoAtualmente,a.n.required],dataBatismo:[this.membro.dataBatismo],membroDesde:[this.membro.membroDesde],cep:[this.membro.endereco.cep,a.n.required],logradouro:[this.membro.endereco.logradouro,a.n.required],numero:[this.membro.endereco.numero,a.n.required],complemento:[this.membro.endereco.complemento],bairro:[this.membro.endereco.bairro,a.n.required],cidade:[this.membro.endereco.cidade,a.n.required],estado:[this.membro.endereco.estado,a.n.required],perfil:[this.membro.perfil,a.n.required],senha:[this.membro.senha,a.n.required]})}buscarEndereco(o){return Object(s.b)(this,void 0,void 0,function*(){o.target.value?yield this.consultaCep.buscaEndereco(o.target.value).then(o=>{const e=o;e.erro?this.erroAoBuscarCep():e&&(this.formulario.controls.bairro.setValue(e.bairro),this.formulario.controls.cidade.setValue(e.localidade),this.formulario.controls.estado.setValue(e.uf),this.formulario.controls.logradouro.setValue(e.logradouro),this.disableEndereco(!0))},o=>{this.erroAoBuscarCep()}):(this.preencherComNullEndereco(),this.disableEndereco(!1))})}validarCpf(o){if(o.target.value){if(!d.a.cpfCnpjIsValid(o.target.value))return this.mensagens.mensagemError("CPF inv\xe1lido."),this.formulario.controls.cpf.setValue(null),void this.formulario.controls.senha.setValue(null);this.formulario.controls.senha.setValue(o.target.value.replace(".","").replace(".","").replace("-",""))}}validarEmail(o){if(o.target.value&&!o.target.value.includes("@"))return this.mensagens.mensagemError("E-mail inv\xe1lido."),void this.formulario.controls.email.setValue(null)}validarDataNascimento(o){if(o.target.value&&!l.a.isIdadeMaiorDozeAnos(o.target.value))return this.mensagens.mensagemError("De acordo com estatuto da IBC, os novos membros dever\xe3o ter ao m\xednimo 12 anos de idade."),void this.formulario.controls.dataNascimento.setValue(null)}retirarEspacamentoEmail(){this.formulario.controls.email.value&&this.formulario.controls.email.setValue(this.formulario.controls.email.value.replace(/\s+/g,""))}preencherComNullEndereco(){this.formulario.controls.bairro.setValue(null),this.formulario.controls.cidade.setValue(null),this.formulario.controls.estado.setValue(null),this.formulario.controls.logradouro.setValue(null)}erroAoBuscarCep(){this.mensagens.mensagemAlerta("Cep n\xe3o encontrado, por favor insira os dados manualmente."),this.preencherComNullEndereco(),this.disableEndereco(!1)}disableEndereco(o){o?(this.formulario.controls.bairro.disable(),this.formulario.controls.cidade.disable(),this.formulario.controls.estado.disable(),this.formulario.controls.logradouro.disable()):(this.formulario.controls.bairro.enable(),this.formulario.controls.cidade.enable(),this.formulario.controls.estado.enable(),this.formulario.controls.logradouro.enable())}editar(){this.formulario.value&&(this.formulario.value.dataBatismo&&!l.a.verificarIsDataValida(this.formulario.value.dataBatismo)?this.mensagens.mensagemError("A data do campo'Data de Batismo' informada n\xe3o \xe9 v\xe1lida."):this.formulario.value.membroDesde&&!l.a.verificarIsDataValida(this.formulario.value.membroDesde)?this.mensagens.mensagemError(" A data do campo 'Membro desde' informada n\xe3o \xe9 v\xe1lida."):this.formulario.value.dataNascimento&&!l.a.verificarIsDataValida(this.formulario.value.dataNascimento)?this.mensagens.mensagemError(" A data do campo 'Data de nascimento' informada n\xe3o \xe9 v\xe1lida."):this.formulario.value.dataBatismo&&this.formulario.value.membroDesde?l.a.isDataFutura(this.formulario.value.dataBatismo)||l.a.isDataFutura(this.formulario.value.membroDesde)?this.mensagens.mensagemError("N\xe3o s\xe3o permitidas datas futuras para o campo 'Data do Batismo' e o campo 'Membro desde.'"):l.a.isDataDoisMaiorDataUm(this.formulario.value.dataBatismo,this.formulario.value.membroDesde)&&!l.a.isDatasIguais(this.formulario.value.dataBatismo,this.formulario.value.membroDesde)&&this.mensagens.mensagemError("A data 'Membro desde' n\xe3o pode ser maior que a 'Data do Batismo'."):(this.disableEndereco(!1),this.membro=m.a.formularioToMembro(this.formulario.value),this.membroService.adicionarOuAtualizar(this.membro),this.mensagens.mensagemSucesso("Atualiza\xe7\xe3o realizada com sucesso!")))}}return o.\u0275fac=function(e){return new(e||o)(u.Lb(a.a),u.Lb(p.a),u.Lb(r.M),u.Lb(h.a),u.Lb(n.g))},o.\u0275cmp=u.Fb({type:o,selectors:[["app-membro"]],decls:161,vars:19,consts:[["color","primary"],["slot","start"],["defaultHref","inicio"],[3,"formGroup"],[1,"row-item"],["mode","md","position","stacked",1,"titulo-dado"],["mode","md","formControlName","nomeCompleto","type","text","maxlength","100"],["mode","md","formControlName","dataNascimento",3,"brmasker","ionBlur"],["mode","md","formControlName","telefone","type","text",3,"brmasker"],["mode","md","formControlName","whatsapp","type","text",3,"brmasker"],["mode","md","id","email","formControlName","email","maxlength","100","type","text",3,"disabled","keyup","ionBlur"],["mode","md","position","stacked",1,"titulo-dado-select"],["placeholder","Selecione uma op\xe7\xe3o","formControlName","estadoCivil","multiple","false","interface","action-sheet"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Selecione uma op\xe7\xe3o","formControlName","escolaridade","multiple","false","interface","popover",3,"interfaceOptions"],["placeholder","Selecione uma op\xe7\xe3o","interface","action-sheet","formControlName","trabalhandoAtualmente"],["value","true"],["value","false"],["mode","md","formControlName","profissao","maxlength","100","type","text"],["mode","md","formControlName","dataBatismo","maxlength","10",3,"brmasker"],["mode","md","formControlName","membroDesde","maxlength","10",3,"brmasker"],["mode","md","formControlName","cep","maxlength","9","type","text",3,"ionBlur"],["mode","md","formControlName","logradouro","maxlength","100","type","text"],["mode","md","formControlName","numero","type","number",3,"min","max"],["mode","md","formControlName","complemento","maxlength","100","type","text"],["mode","md","formControlName","bairro","maxlength","100","type","text"],["mode","md","formControlName","cidade","maxlength","100","type","text"],["mode","md","formControlName","estado","maxlength","100","type","text"],["mode","md","position","stacked",1,"titulo-dado-select-acesso"],["placeholder","Selecione uma op\xe7\xe3o","interface","action-sheet","formControlName","perfil"],["value","ADMIN"],["value","FIN"],["value","MEM"],["value","SEC"],[1,"ion-no-border"],["no-padding","","id","rodape"],["mode","md","type","submit","fill","solid","expand","full",3,"disabled","click"],[3,"value"]],template:function(o,e){1&o&&(u.Ob(0,"ion-header"),u.Ob(1,"ion-toolbar",0),u.Ob(2,"ion-buttons",1),u.Mb(3,"ion-back-button",2),u.Nb(),u.Ob(4,"ion-title"),u.ic(5,"Editar membro"),u.Nb(),u.Nb(),u.Nb(),u.Ob(6,"ion-content"),u.Ob(7,"form",3),u.Ob(8,"ion-grid"),u.Ob(9,"h2"),u.ic(10,"Informa\xe7\xf5es Pessoais"),u.Nb(),u.Ob(11,"ion-item",4),u.Ob(12,"ion-label",5),u.ic(13,"Nome Completo "),u.Ob(14,"span"),u.ic(15,"*"),u.Nb(),u.Nb(),u.Mb(16,"ion-input",6),u.Nb(),u.Ob(17,"ion-row"),u.Ob(18,"ion-col"),u.Ob(19,"ion-item",4),u.Ob(20,"ion-label",5),u.ic(21,"Data de nascimento "),u.Ob(22,"span"),u.ic(23,"*"),u.Nb(),u.Nb(),u.Ob(24,"ion-input",7),u.Wb("ionBlur",function(o){return e.validarDataNascimento(o)}),u.Nb(),u.Nb(),u.Nb(),u.Ob(25,"ion-col"),u.Ob(26,"ion-item",4),u.Ob(27,"ion-label",5),u.ic(28,"Telefone "),u.Ob(29,"span"),u.ic(30,"*"),u.Nb(),u.Nb(),u.Mb(31,"ion-input",8),u.Nb(),u.Nb(),u.Ob(32,"ion-col"),u.Ob(33,"ion-item",4),u.Ob(34,"ion-label",5),u.ic(35,"Whatsapp "),u.Nb(),u.Mb(36,"ion-input",9),u.Nb(),u.Nb(),u.Ob(37,"ion-col"),u.Ob(38,"ion-item",4),u.Ob(39,"ion-label",5),u.ic(40,"E-mail "),u.Nb(),u.Ob(41,"ion-input",10),u.Wb("keyup",function(){return e.retirarEspacamentoEmail()})("ionBlur",function(o){return e.validarEmail(o)}),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Mb(42,"br"),u.Ob(43,"ion-row"),u.Ob(44,"ion-col"),u.Ob(45,"ion-label",11),u.ic(46,"Estado Civil"),u.Ob(47,"span"),u.ic(48,"*"),u.Nb(),u.Nb(),u.Ob(49,"ion-select",12),u.hc(50,N,2,2,"ion-select-option",13),u.Nb(),u.Nb(),u.Ob(51,"ion-col"),u.Ob(52,"ion-label",11),u.ic(53,"Escolaridade"),u.Ob(54,"span"),u.ic(55,"*"),u.Nb(),u.Nb(),u.Ob(56,"ion-select",14),u.hc(57,O,2,2,"ion-select-option",13),u.Nb(),u.Nb(),u.Ob(58,"ion-col"),u.Ob(59,"ion-label",11),u.ic(60,"Trabalhando atualmente "),u.Ob(61,"span"),u.ic(62,"*"),u.Nb(),u.Nb(),u.Ob(63,"ion-select",15),u.Ob(64,"ion-select-option",16),u.ic(65,"Sim"),u.Nb(),u.Ob(66,"ion-select-option",17),u.ic(67,"N\xe3o"),u.Nb(),u.Nb(),u.Nb(),u.Ob(68,"ion-col"),u.Ob(69,"ion-item",4),u.Ob(70,"ion-label",5),u.ic(71,"Profiss\xe3o "),u.Ob(72,"span"),u.ic(73,"*"),u.Nb(),u.Nb(),u.Mb(74,"ion-input",18),u.Nb(),u.Nb(),u.Nb(),u.Ob(75,"ion-row"),u.Ob(76,"ion-col"),u.Ob(77,"ion-item",4),u.Ob(78,"ion-label",5),u.ic(79,"Data do batismo "),u.Nb(),u.Mb(80,"ion-input",19),u.Nb(),u.Nb(),u.Ob(81,"ion-col"),u.Ob(82,"ion-item",4),u.Ob(83,"ion-label",5),u.ic(84,"Membro desde "),u.Nb(),u.Mb(85,"ion-input",20),u.Nb(),u.Nb(),u.Nb(),u.Ob(86,"h2"),u.ic(87,"Endere\xe7o"),u.Nb(),u.Ob(88,"ion-row"),u.Ob(89,"ion-col"),u.Ob(90,"ion-item",4),u.Ob(91,"ion-label",5),u.ic(92,"CEP "),u.Ob(93,"span"),u.ic(94,"*"),u.Nb(),u.Nb(),u.Ob(95,"ion-input",21),u.Wb("ionBlur",function(o){return e.buscarEndereco(o)}),u.Nb(),u.Nb(),u.Nb(),u.Ob(96,"ion-col"),u.Ob(97,"ion-item",4),u.Ob(98,"ion-label",5),u.ic(99,"Logradouro "),u.Ob(100,"span"),u.ic(101,"*"),u.Nb(),u.Nb(),u.Mb(102,"ion-input",22),u.Nb(),u.Nb(),u.Ob(103,"ion-col"),u.Ob(104,"ion-item",4),u.Ob(105,"ion-label",5),u.ic(106,"N\xfamero "),u.Ob(107,"span"),u.ic(108,"*"),u.Nb(),u.Nb(),u.Mb(109,"ion-input",23),u.Nb(),u.Nb(),u.Ob(110,"ion-col"),u.Ob(111,"ion-item",4),u.Ob(112,"ion-label",5),u.ic(113,"Complemento"),u.Nb(),u.Mb(114,"ion-input",24),u.Nb(),u.Nb(),u.Nb(),u.Ob(115,"ion-row"),u.Ob(116,"ion-col"),u.Ob(117,"ion-item",4),u.Ob(118,"ion-label",5),u.ic(119,"Bairro "),u.Ob(120,"span"),u.ic(121,"*"),u.Nb(),u.Nb(),u.Mb(122,"ion-input",25),u.Nb(),u.Nb(),u.Ob(123,"ion-col"),u.Ob(124,"ion-item",4),u.Ob(125,"ion-label",5),u.ic(126,"Cidade "),u.Ob(127,"span"),u.ic(128,"*"),u.Nb(),u.Nb(),u.Mb(129,"ion-input",26),u.Nb(),u.Nb(),u.Ob(130,"ion-col"),u.Ob(131,"ion-item",4),u.Ob(132,"ion-label",5),u.ic(133,"Estado "),u.Ob(134,"span"),u.ic(135,"*"),u.Nb(),u.Nb(),u.Mb(136,"ion-input",27),u.Nb(),u.Nb(),u.Nb(),u.Ob(137,"h2"),u.ic(138,"Informa\xe7\xf5es de Acesso "),u.Nb(),u.Ob(139,"ion-row"),u.Ob(140,"ion-col"),u.Ob(141,"ion-label",28),u.ic(142,"Perfil"),u.Ob(143,"span"),u.ic(144,"*"),u.Nb(),u.Nb(),u.Ob(145,"ion-select",29),u.Ob(146,"ion-select-option",30),u.ic(147,"Administrador"),u.Nb(),u.Ob(148,"ion-select-option",31),u.ic(149,"Financeiro"),u.Nb(),u.Ob(150,"ion-select-option",32),u.ic(151,"Membro"),u.Nb(),u.Ob(152,"ion-select-option",33),u.ic(153,"Secretariado"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Ob(154,"ion-footer",34),u.Ob(155,"ion-toolbar",35),u.Ob(156,"ion-grid"),u.Ob(157,"ion-row"),u.Ob(158,"ion-col"),u.Ob(159,"ion-button",36),u.Wb("click",function(){return e.editar()}),u.ic(160," Atualizar"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb()),2&o&&(u.Bb(7),u.bc("formGroup",e.formulario),u.Bb(17),u.bc("brmasker",u.cc(13,g)),u.Bb(7),u.bc("brmasker",u.cc(14,C)),u.Bb(5),u.bc("brmasker",u.cc(15,C)),u.Bb(5),u.bc("disabled",!0),u.Bb(9),u.bc("ngForOf",e.estadoCivil),u.Bb(6),u.bc("interfaceOptions",u.cc(16,v)),u.Bb(1),u.bc("ngForOf",e.escolaridade),u.Bb(23),u.bc("brmasker",u.cc(17,g)),u.Bb(5),u.bc("brmasker",u.cc(18,g)),u.Bb(24),u.bc("min",0)("max",99999),u.Bb(50),u.bc("disabled",e.formulario.invalid))},directives:[r.l,r.E,r.g,r.d,r.e,r.D,r.i,a.o,a.k,a.d,r.k,r.o,r.r,r.n,r.L,a.j,a.c,a.f,r.v,r.h,f.a,r.x,r.K,i.i,r.y,r.I,r.j,r.f],styles:[".titulo-dado[_ngcontent-%COMP%], .titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}#rodape[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{--background:#e6e6e6}.titulo-dado[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{color:#2e2e3c}h2[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:Lexend,sans-serif}ion-input[_ngcontent-%COMP%]{text-transform:uppercase;font-size:9pt}#email[_ngcontent-%COMP%]{text-transform:lowercase}ion-select[_ngcontent-%COMP%]{font-size:10pt}#cabecalho[_ngcontent-%COMP%]{--background:#2e2e3c;color:#fff}.titulo-dado[_ngcontent-%COMP%]{font-size:11pt}.titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%]{font-size:8.3pt}.titulo-dado-select[_ngcontent-%COMP%]{margin-left:5.3%}.titulo-dado-select-acesso[_ngcontent-%COMP%]{margin-left:1%}.titulo-dado-batismo[_ngcontent-%COMP%]{margin-left:4%}h2[_ngcontent-%COMP%]{font-size:13pt;font-weight:bolder;margin-left:1%}span[_ngcontent-%COMP%]{color:#eb445a}  .mycomponent-wider-popover{--width:95%;--max-width:600px}"]}),o})()}];let B=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=u.Jb({type:o}),o.\u0275inj=u.Ib({imports:[[n.i.forChild(M)],n.i]}),o})(),P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=u.Jb({type:o}),o.\u0275inj=u.Ib({imports:[[i.c,a.e,r.F,f.b,a.m,B]]}),o})()}}]);
{"version":3,"sources":["./src/app/pages/consultorio/consultorio-routing.module.ts","./src/app/util/DateUtil.ts","./src/app/pages/consultorio/consultorio.module.ts","./src/app/pages/consultorio/consultorio.page.html","./src/app/pages/consultorio/consultorio.page.scss","./src/app/pages/consultorio/consultorio.page.ts"],"names":[],"mappings":"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","file":"pages-consultorio-consultorio-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConsultorioPage } from './consultorio.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConsultorioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConsultorioPageRoutingModule {}\n","import * as moment from \"moment\";\r\n\r\nexport class DateUtil {\r\n  constructor() {\r\n    moment.locale(\"pt-br\");\r\n  }\r\n\r\n  public static isDataDoisMaiorDataUm(dataUm: any, dataDois: any): boolean {\r\n    return moment(this.dateFormatterAmerica(dataDois)).isBefore(\r\n      this.dateFormatterAmerica(dataUm)\r\n    );\r\n  }\r\n\r\n  public static isDataFutura(data: any): boolean {\r\n    return moment(this.dateFormatterAmerica(data)).isAfter(\r\n      this.dateFormatterAmerica(new Date().toLocaleDateString())\r\n    );\r\n  }\r\n\r\n  public static isDatasIguais(dataUm: any, dataDois: any): boolean {\r\n    return moment(this.dateFormatterAmerica(dataDois)).isSame(\r\n      this.dateFormatterAmerica(dataUm)\r\n    );\r\n  }\r\n\r\n  private static dateFormatterAmerica(data: any): any {\r\n    return data.split(\"/\").reverse().join(\"-\");\r\n  }\r\n\r\n  public static dateFormatterBrazil(data: string): any {\r\n    return moment(data).format(\"DD/MM/YYYY\");\r\n  }\r\n\r\n  public static numeroDiasEntreDuasDatas(dataUm: any, dataDois: any) {\r\n    const dataInicio = moment(dataUm);\r\n    const dataFim = moment(dataDois);\r\n    const numeroDias = moment.duration(dataFim.diff(dataInicio));\r\n    return numeroDias.asDays();\r\n  }\r\n\r\n  public static verificarIsDataValida(data: any): boolean {\r\n    const dataValida = moment(this.dateFormatterAmerica(data));\r\n    return dataValida.isValid();\r\n  }\r\n\r\n  public static calcularData(data: any, dias: number) {\r\n    return moment(data)\r\n      .add(dias, \"year\")\r\n      .subtract(1, \"days\")\r\n      .format(\"YYYY-MM-DD\");\r\n  }\r\n\r\n  public static verificarIntervaloHora(horaI: any, horaF: any): boolean {\r\n    let horaInicial =\r\n      Number(horaI.substring(0, 2)) < 12\r\n        ? moment(horaI.concat(\"am\"), \"hh:mma\")\r\n        : moment(horaI.concat(\"pm\"), \"hh:mmp\");\r\n    let horaFinal =\r\n      Number(horaF.substring(0, 2)) < 12\r\n        ? moment(horaF.concat(\"am\"), \"hh:mma\")\r\n        : moment(horaF.concat(\"pm\"), \"hh:mmp\");\r\n    return horaInicial.isBefore(horaFinal);\r\n  }\r\n\r\n  public static isIdadeMaiorDozeAnos(dataNasc: string): boolean {\r\n    let idade = moment().diff(this.dateFormatterAmerica(dataNasc), \"years\");\r\n    return idade >= 12;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConsultorioPageRoutingModule } from './consultorio-routing.module';\n\nimport { ConsultorioPage } from './consultorio.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ConsultorioPageRoutingModule\n  ],\n  declarations: [ConsultorioPage]\n})\nexport class ConsultorioPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"inicio\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-row>\\n    <ion-col class=\\\"ion-align-self-start\\\">\\n      <h1 style=\\\"margin-left: 40%; font-weight: bold\\\">\\n        Registros dos Pacientes\\n      </h1>\\n    </ion-col>\\n    <ion-col class=\\\"ion-align-self-center\\\"> </ion-col>\\n    <ion-col class=\\\"ion-align-self-end\\\"> </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col class=\\\"ion-align-self-start\\\"> </ion-col>\\n    <ion-col class=\\\"ion-align-self-center\\\">\\n      <ion-button\\n        style=\\\"margin-left: 62.5%\\\"\\n        color=\\\"primary\\\"\\n        (click)=\\\"abriModal()\\\"\\n        >Adicionar um registro</ion-button\\n      >\\n    </ion-col>\\n    <ion-col class=\\\"ion-align-self-end\\\"> </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col class=\\\"ion-align-self-start\\\"> </ion-col>\\n    <ion-col class=\\\"ion-align-self-center\\\">\\n      <h2 *ngIf=\\\"numTotalRegistros === 0\\\">Não há registros dos pacientes.</h2>\\n      <ion-searchbar\\n        *ngIf=\\\"numTotalRegistros > 0\\\"\\n        (ionChange)=\\\"pesquisarPacientes($event)\\\"\\n        placeholder=\\\"Digite o nome do paciente.\\\"\\n        color=\\\"tertiary\\\"\\n      ></ion-searchbar>\\n      <ion-list>\\n        <ion-item *ngFor=\\\"let diario of listaDiariosFiltrados\\\">\\n          <ion-card>\\n            <ion-card-header>\\n              <ion-card-subtitle>{{diario.nomePaciente}}</ion-card-subtitle>\\n              <ion-card-title\\n                >{{formatarData(diario.dataRegistro)}}</ion-card-title\\n              >\\n            </ion-card-header>\\n\\n            <ion-card-content> {{diario.registro}} </ion-card-content>\\n          </ion-card>\\n        </ion-item>\\n      </ion-list>\\n    </ion-col>\\n    <ion-col class=\\\"ion-align-self-end\\\"> </ion-col>\\n  </ion-row>\\n</ion-content>\\n\";","export default \"ion-card {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxjb25zdWx0b3Jpby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FBQ0oiLCJmaWxlIjoiY29uc3VsdG9yaW8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn0iXX0= */\";","import { DadosUsuarioUtil } from \"./../../util/DadosUsuarioUtil\";\nimport { RegistroConsultorioModalPage } from \"./../componentes/registro-consultorio-modal/registro-consultorio-modal.page\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { ModalController } from \"@ionic/angular\";\nimport { Observable } from \"rxjs\";\nimport { Diario } from \"src/app/modelo/Diario\";\nimport { DiarioService } from \"src/app/servicos/Diario\";\nimport { DateUtil } from \"src/app/util/DateUtil\";\n\n@Component({\n  selector: \"app-consultorio\",\n  templateUrl: \"./consultorio.page.html\",\n  styleUrls: [\"./consultorio.page.scss\"],\n})\nexport class ConsultorioPage implements OnInit {\n  listaDiarios: Diario[];\n  listaDiariosFiltrados: Diario[];\n  numTotalRegistros: number;\n  listaDiariosObservable: Observable<any[]>;\n\n  constructor(\n    public modalController: ModalController,\n    private diarioService: DiarioService\n  ) {\n    this.inicializar();\n  }\n\n  ngOnInit() {}\n\n  public inicializar() {\n    this.listaDiariosObservable = this.diarioService.listar();\n    this.listaDiariosObservable.subscribe((response) => {\n      this.listaDiarios = response;\n      this.listaDiariosFiltrados = response;\n      this.numTotalRegistros = this.listaDiarios.length;\n    });\n  }\n\n  filtrarPorPsicologo(listaDiarios: Diario[]) {\n    let usuarioLogado = DadosUsuarioUtil.dadosUsuarioLogado();\n\n    return listaDiarios.filter((d) => {\n      d.uIdPsicologo === usuarioLogado.uid;\n    });\n  }\n\n  async abriModal() {\n    const modal = await this.modalController.create({\n      component: RegistroConsultorioModalPage,\n      cssClass: \"my-custom-class\",\n    });\n    return await modal.present();\n  }\n\n  formatarData(data) {\n    return DateUtil.dateFormatterBrazil(data);\n  }\n\n  pesquisarPacientes(ev: any) {\n    this.listaDiariosFiltrados = this.listaDiarios;\n    const val = ev.detail.value;\n\n    if (val && val.trim() !== \"\") {\n      this.listaDiariosFiltrados = this.listaDiariosFiltrados.filter((term) => {\n        return (\n          term.nomePaciente.toUpperCase().indexOf(val.trim().toUpperCase()) > -1\n        );\n      });\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}
(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{DElZ:function(o,e,i){"use strict";i.r(e),i.d(e,"AssistidoPageModule",function(){return _});var t=i("ofXK"),a=i("3Pt+"),n=i("TEn/"),s=i("tyNb"),r=i("mrSG");class l{}var c=i("/FaQ"),d=i("JM5f"),b=i("0z2X"),m=i("sZxV"),u=i("VFuG"),p=i("fXoL"),h=i("Gchg"),f=i("lJxs"),O=i("sSZD");let N=(()=>{class o{constructor(o){this.db=o,this.path="assistidos",this.assistidoLista=new Array,this.assistidoRef=this.db.list(this.path)}listar(){return this.assistidos=this.assistidoRef.snapshotChanges().pipe(Object(f.a)(o=>o.map(o=>Object.assign({key:o.payload.key},o.payload.val()))))}adicionarOuAtualizar(o){o.key?this.assistidoRef.update(o.key,o):this.assistidoRef.push(o)}deletar(o){this.assistidoRef.remove(o)}deletarTudo(){this.assistidoRef.remove()}carregaListaMembros(){return this.listar().toPromise().then(o=>{this.assistidoLista=o},o=>{console.log(o)}),this.assistidoLista}}return o.\u0275fac=function(e){return new(e||o)(p.Sb(O.a))},o.\u0275prov=p.Hb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var C=i("/oCc");function g(o,e){if(1&o&&(p.Ob(0,"ion-select-option",30),p.ic(1),p.Nb()),2&o){const o=e.$implicit;p.bc("value",o.id),p.Bb(1),p.kc(" ",o.valor," ")}}function v(o,e){if(1&o&&(p.Ob(0,"ion-select-option",30),p.ic(1),p.Nb()),2&o){const o=e.$implicit;p.bc("value",o.id),p.Bb(1),p.kc(" ",o.valor," ")}}const M=function(){return{mask:"00/00/0000",len:10}},y=function(){return{phone:!0}},P=function(){return{cssClass:"mycomponent-wider-popover"}},w=[{path:"",component:(()=>{class o{constructor(o,e,i,t){this.formulador=o,this.aviso=e,this.consultaCep=i,this.assistidoService=t,this.estadoCivil=[],this.escolaridade=[]}ngOnInit(){this.inicializar()}inicializar(){this.mensagens=new m.a(this.aviso),this.estadoCivil=b.a.estadoCivil(),this.escolaridade=b.a.escolaridade(),this.assistido=new l,this.assistido.endereco=new c.a,this.criarFormulario()}criarFormulario(){this.formulario=this.formulador.group({nomeCompleto:[this.assistido.nomeCompleto,a.n.required],dataNascimento:[this.assistido.dataNascimento,a.n.required],telefone:[this.assistido.telefone,a.n.required],whatsapp:[this.assistido.whatsapp],email:[this.assistido.email],profissao:[this.assistido.profissao,a.n.required],estadoCivil:[this.assistido.estadoCivil,a.n.required],escolaridade:[this.assistido.escolaridade,a.n.required],observacoes:[this.assistido.observacoes],trabalhandoAtualmente:[this.assistido.trabalhandoAtualmente,a.n.required],cep:[this.assistido.endereco.cep,a.n.required],logradouro:[this.assistido.endereco.logradouro,a.n.required],numero:[this.assistido.endereco.numero,a.n.required],complemento:[this.assistido.endereco.complemento],bairro:[this.assistido.endereco.bairro,a.n.required],cidade:[this.assistido.endereco.cidade,a.n.required],estado:[this.assistido.endereco.estado,a.n.required]})}validarCpf(o){if(o.target.value){if(!u.a.cpfCnpjIsValid(o.target.value))return this.mensagens.mensagemError("CPF inv\xe1lido."),this.formulario.controls.cpf.setValue(null),void this.formulario.controls.senha.setValue(null);this.formulario.controls.senha.setValue(o.target.value.replace(".","").replace(".","").replace("-",""))}}buscarEndereco(o){return Object(r.b)(this,void 0,void 0,function*(){o.target.value?yield this.consultaCep.buscaEndereco(o.target.value).then(o=>{const e=o;e.erro?this.erroAoBuscarCep():e&&(this.formulario.controls.bairro.setValue(e.bairro),this.formulario.controls.cidade.setValue(e.localidade),this.formulario.controls.estado.setValue(e.uf),this.formulario.controls.logradouro.setValue(e.logradouro),this.disableEndereco(!0))},o=>{this.erroAoBuscarCep()}):(this.preencherComNullEndereco(),this.disableEndereco(!1))})}retirarEspacamentoEmail(){this.formulario.controls.email.value&&this.formulario.controls.email.setValue(this.formulario.controls.email.value.replace(/\s+/g,""))}validarEmail(o){if(o.target.value&&!o.target.value.includes("@"))return this.mensagens.mensagemError("E-mail inv\xe1lido."),void this.formulario.controls.email.setValue(null)}erroAoBuscarCep(){this.mensagens.mensagemAlerta("Cep n\xe3o encontrado, por favor insira os dados manualmente."),this.preencherComNullEndereco(),this.disableEndereco(!1)}preencherComNullEndereco(){this.formulario.controls.bairro.setValue(null),this.formulario.controls.cidade.setValue(null),this.formulario.controls.estado.setValue(null),this.formulario.controls.logradouro.setValue(null)}disableEndereco(o){o?(this.formulario.controls.bairro.disable(),this.formulario.controls.cidade.disable(),this.formulario.controls.estado.disable(),this.formulario.controls.logradouro.disable()):(this.formulario.controls.bairro.enable(),this.formulario.controls.cidade.enable(),this.formulario.controls.estado.enable(),this.formulario.controls.logradouro.enable())}cadastrar(){this.formulario.value&&(this.formulario.value.dataNascimento&&!d.a.verificarIsDataValida(this.formulario.value.dataNascimento)?this.mensagens.mensagemError("A data informada no campo 'Data de nascimento' n\xe3o \xe9 v\xe1lida."):(this.disableEndereco(!1),this.assistido=class{static formularioToAssistido(o){let e=new l;return e.nomeCompleto=o.nomeCompleto.toUpperCase(),e.dataNascimento=o.dataNascimento,e.email=o.email?o.email.toLowerCase()():"",e.escolaridade=Number(o.escolaridade),e.estadoCivil=Number(o.estadoCivil),e.profissao=o.profissao.toUpperCase(),e.situacao="Ativo",e.whatsapp=o.whatsapp,e.observacoes=o.observacoes,e.telefone=o.telefone,e.trabalhandoAtualmente=o.trabalhandoAtualmente,e.endereco=new c.a,e.endereco.cep=o.cep,e.endereco.logradouro=o.logradouro.toUpperCase(),e.endereco.bairro=o.bairro.toUpperCase(),e.endereco.cidade=o.cidade.toUpperCase(),e.endereco.numero=o.numero,e.endereco.complemento=o.complemento?o.complemento.toUpperCase():"",e.endereco.estado=o.estado.toUpperCase(),o.key&&(e.key=o.key),e}}.formularioToAssistido(this.formulario.value),this.assistidoService.adicionarOuAtualizar(this.assistido),this.mensagens.mensagemSucesso("Cadastro realizado com sucesso!"),this.disableEndereco(!0),this.inicializar()))}}return o.\u0275fac=function(e){return new(e||o)(p.Lb(a.a),p.Lb(n.M),p.Lb(h.a),p.Lb(N))},o.\u0275cmp=p.Fb({type:o,selectors:[["app-assistido"]],decls:139,vars:14,consts:[["color","primary"],["slot","start"],["defaultHref","inicio"],[3,"formGroup"],[1,"row-item"],["mode","md","position","stacked",1,"titulo-dado"],["mode","md","formControlName","nomeCompleto","type","text","maxlength","100"],["mode","md","placeholder","dd/mm/yyyy","formControlName","dataNascimento",3,"brmasker"],["mode","md","formControlName","telefone","type","text",3,"brmasker"],["mode","md","formControlName","whatsapp","type","text",3,"brmasker"],["mode","md","id","email","formControlName","email","maxlength","100","type","text",3,"keyup","ionBlur"],["mode","md","position","stacked",1,"titulo-dado-select"],["placeholder","Selecione uma op\xe7\xe3o","formControlName","estadoCivil","multiple","false","interface","action-sheet"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Selecione uma op\xe7\xe3o","formControlName","escolaridade","multiple","false","interface","popover",3,"interfaceOptions"],["placeholder","Selecione uma op\xe7\xe3o","interface","action-sheet","formControlName","trabalhandoAtualmente"],["value","true"],["value","false"],["mode","md","formControlName","profissao","maxlength","100","type","text"],["mode","md","formControlName","cep","maxlength","9","type","text",3,"ionBlur"],["mode","md","formControlName","logradouro","maxlength","100","type","text"],["mode","md","formControlName","numero","type","number",3,"min","max"],["mode","md","formControlName","complemento","maxlength","100","type","text"],["mode","md","formControlName","bairro","maxlength","100","type","text"],["mode","md","formControlName","cidade","maxlength","100","type","text"],["mode","md","formControlName","estado","maxlength","100","type","text"],["mode","md","formControlName","observacoes","maxlength","1000","type","text"],[1,"ion-no-border"],["no-padding","","id","rodape"],["mode","md","type","submit","fill","solid","expand","full",3,"disabled","click"],[3,"value"]],template:function(o,e){1&o&&(p.Ob(0,"ion-header"),p.Ob(1,"ion-toolbar",0),p.Ob(2,"ion-buttons",1),p.Mb(3,"ion-back-button",2),p.Nb(),p.Ob(4,"ion-title"),p.ic(5,"Cadastro de assistido"),p.Nb(),p.Nb(),p.Nb(),p.Ob(6,"ion-content"),p.Ob(7,"form",3),p.Ob(8,"ion-grid"),p.Ob(9,"h2"),p.ic(10,"Informa\xe7\xf5es Pessoais"),p.Nb(),p.Ob(11,"ion-item",4),p.Ob(12,"ion-label",5),p.ic(13,"Nome Completo "),p.Ob(14,"span"),p.ic(15,"*"),p.Nb(),p.Nb(),p.Mb(16,"ion-input",6),p.Nb(),p.Ob(17,"ion-row"),p.Ob(18,"ion-col"),p.Ob(19,"ion-item",4),p.Ob(20,"ion-label",5),p.ic(21,"Data de nascimento "),p.Ob(22,"span"),p.ic(23,"*"),p.Nb(),p.Nb(),p.Mb(24,"ion-input",7),p.Nb(),p.Nb(),p.Ob(25,"ion-col"),p.Ob(26,"ion-item",4),p.Ob(27,"ion-label",5),p.ic(28,"Telefone "),p.Ob(29,"span"),p.ic(30,"*"),p.Nb(),p.Nb(),p.Mb(31,"ion-input",8),p.Nb(),p.Nb(),p.Ob(32,"ion-col"),p.Ob(33,"ion-item",4),p.Ob(34,"ion-label",5),p.ic(35,"Whatsapp "),p.Nb(),p.Mb(36,"ion-input",9),p.Nb(),p.Nb(),p.Ob(37,"ion-col"),p.Ob(38,"ion-item",4),p.Ob(39,"ion-label",5),p.ic(40,"E-mail "),p.Nb(),p.Ob(41,"ion-input",10),p.Wb("keyup",function(){return e.retirarEspacamentoEmail()})("ionBlur",function(o){return e.validarEmail(o)}),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Mb(42,"br"),p.Ob(43,"ion-row"),p.Ob(44,"ion-col"),p.Ob(45,"ion-label",11),p.ic(46,"Estado Civil"),p.Ob(47,"span"),p.ic(48,"*"),p.Nb(),p.Nb(),p.Ob(49,"ion-select",12),p.hc(50,g,2,2,"ion-select-option",13),p.Nb(),p.Nb(),p.Ob(51,"ion-col"),p.Ob(52,"ion-label",11),p.ic(53,"Escolaridade"),p.Ob(54,"span"),p.ic(55,"*"),p.Nb(),p.Nb(),p.Ob(56,"ion-select",14),p.hc(57,v,2,2,"ion-select-option",13),p.Nb(),p.Nb(),p.Ob(58,"ion-col"),p.Ob(59,"ion-label",11),p.ic(60,"Trabalhando atualmente "),p.Ob(61,"span"),p.ic(62,"*"),p.Nb(),p.Nb(),p.Ob(63,"ion-select",15),p.Ob(64,"ion-select-option",16),p.ic(65,"Sim"),p.Nb(),p.Ob(66,"ion-select-option",17),p.ic(67,"N\xe3o"),p.Nb(),p.Nb(),p.Nb(),p.Ob(68,"ion-col"),p.Ob(69,"ion-item",4),p.Ob(70,"ion-label",5),p.ic(71,"Profiss\xe3o "),p.Ob(72,"span"),p.ic(73,"*"),p.Nb(),p.Nb(),p.Mb(74,"ion-input",18),p.Nb(),p.Nb(),p.Nb(),p.Ob(75,"h2"),p.ic(76,"Endere\xe7o"),p.Nb(),p.Ob(77,"ion-row"),p.Ob(78,"ion-col"),p.Ob(79,"ion-item",4),p.Ob(80,"ion-label",5),p.ic(81,"CEP "),p.Ob(82,"span"),p.ic(83,"*"),p.Nb(),p.Nb(),p.Ob(84,"ion-input",19),p.Wb("ionBlur",function(o){return e.buscarEndereco(o)}),p.Nb(),p.Nb(),p.Nb(),p.Ob(85,"ion-col"),p.Ob(86,"ion-item",4),p.Ob(87,"ion-label",5),p.ic(88,"Logradouro "),p.Ob(89,"span"),p.ic(90,"*"),p.Nb(),p.Nb(),p.Mb(91,"ion-input",20),p.Nb(),p.Nb(),p.Ob(92,"ion-col"),p.Ob(93,"ion-item",4),p.Ob(94,"ion-label",5),p.ic(95,"N\xfamero "),p.Ob(96,"span"),p.ic(97,"*"),p.Nb(),p.Nb(),p.Mb(98,"ion-input",21),p.Nb(),p.Nb(),p.Ob(99,"ion-col"),p.Ob(100,"ion-item",4),p.Ob(101,"ion-label",5),p.ic(102,"Complemento"),p.Nb(),p.Mb(103,"ion-input",22),p.Nb(),p.Nb(),p.Nb(),p.Ob(104,"ion-row"),p.Ob(105,"ion-col"),p.Ob(106,"ion-item",4),p.Ob(107,"ion-label",5),p.ic(108,"Bairro "),p.Ob(109,"span"),p.ic(110,"*"),p.Nb(),p.Nb(),p.Mb(111,"ion-input",23),p.Nb(),p.Nb(),p.Ob(112,"ion-col"),p.Ob(113,"ion-item",4),p.Ob(114,"ion-label",5),p.ic(115,"Cidade "),p.Ob(116,"span"),p.ic(117,"*"),p.Nb(),p.Nb(),p.Mb(118,"ion-input",24),p.Nb(),p.Nb(),p.Ob(119,"ion-col"),p.Ob(120,"ion-item",4),p.Ob(121,"ion-label",5),p.ic(122,"Estado "),p.Ob(123,"span"),p.ic(124,"*"),p.Nb(),p.Nb(),p.Mb(125,"ion-input",25),p.Nb(),p.Nb(),p.Nb(),p.Ob(126,"ion-row"),p.Ob(127,"ion-col"),p.Ob(128,"ion-item"),p.Ob(129,"ion-label",5),p.ic(130,"Observa\xe7\xf5es"),p.Nb(),p.Mb(131,"ion-textarea",26),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(132,"ion-footer",27),p.Ob(133,"ion-toolbar",28),p.Ob(134,"ion-grid"),p.Ob(135,"ion-row"),p.Ob(136,"ion-col"),p.Ob(137,"ion-button",29),p.Wb("click",function(){return e.cadastrar()}),p.ic(138," Cadastrar"),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb()),2&o&&(p.Bb(7),p.bc("formGroup",e.formulario),p.Bb(17),p.bc("brmasker",p.cc(10,M)),p.Bb(7),p.bc("brmasker",p.cc(11,y)),p.Bb(5),p.bc("brmasker",p.cc(12,y)),p.Bb(14),p.bc("ngForOf",e.estadoCivil),p.Bb(6),p.bc("interfaceOptions",p.cc(13,P)),p.Bb(1),p.bc("ngForOf",e.escolaridade),p.Bb(41),p.bc("min",0)("max",99999),p.Bb(39),p.bc("disabled",e.formulario.invalid))},directives:[n.l,n.E,n.g,n.d,n.e,n.D,n.i,a.o,a.k,a.d,n.k,n.o,n.r,n.n,n.L,a.j,a.c,a.f,n.v,n.h,C.a,n.x,n.K,t.i,n.y,n.I,n.C,n.j,n.f],styles:[".titulo-dado[_ngcontent-%COMP%], .titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}#rodape[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{--background:#e6e6e6}.titulo-dado[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{color:#2e2e3c}h2[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:Lexend,sans-serif}ion-input[_ngcontent-%COMP%]{text-transform:uppercase;font-size:11pt}#email[_ngcontent-%COMP%]{text-transform:lowercase}ion-select[_ngcontent-%COMP%]{font-size:10pt}#cabecalho[_ngcontent-%COMP%]{--background:#2e2e3c;color:#fff}.titulo-dado[_ngcontent-%COMP%]{font-size:13pt}.titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%]{font-size:10pt}.titulo-dado-select[_ngcontent-%COMP%]{margin-left:5.3%}.titulo-dado-select-acesso[_ngcontent-%COMP%]{margin-left:2.5%}.titulo-dado-batismo[_ngcontent-%COMP%]{margin-left:4%}h2[_ngcontent-%COMP%]{font-size:13pt;font-weight:bolder;margin-left:1%}span[_ngcontent-%COMP%]{color:#eb445a}  .mycomponent-wider-popover{--width:95%;--max-width:600px}"]}),o})()}];let x=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=p.Jb({type:o}),o.\u0275inj=p.Ib({imports:[[s.i.forChild(w)],s.i]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=p.Jb({type:o}),o.\u0275inj=p.Ib({imports:[[t.c,a.e,n.F,x,C.b,a.m]]}),o})()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"VT+I":function(o,t,e){"use strict";e.r(t),e.d(t,"ProjetoPageModule",function(){return g});var i=e("ofXK"),a=e("3Pt+"),n=e("TEn/"),s=e("tyNb"),r=e("JM5f"),l=e("sZxV"),c=e("fXoL"),m=e("fX5e"),d=e("MoJo"),b=e("/oCc");function u(o,t){if(1&o&&(c.Ob(0,"ion-select-option",16),c.ic(1),c.Nb()),2&o){const o=t.$implicit;c.bc("value",o.nomeCompleto),c.Bb(1),c.kc(" ",o.nomeCompleto," ")}}const p=function(){return{mask:"00/00/0000",len:10}},f=[{path:"",component:(()=>{class o{constructor(o,t,e,i,a){this.formulador=o,this.membroService=t,this.aviso=e,this.projetoService=i,this.router=a;const n=this.router.getCurrentNavigation();this.projeto=n.extras.state.content,this.ajustarDatas()}ngOnInit(){this.inicializar()}inicializar(){this.mensagens=new l.a(this.aviso),this.listaMembrosObservable=this.membroService.listar(),this.listaMembrosObservable.subscribe(o=>{this.membrosAtivos=o,this.membrosAtivos=this.membrosAtivos.filter(o=>"Ativo"===o.situacao),this.membrosAtivos.sort((o,t)=>o.nomeCompleto>t.nomeCompleto?1:t.nomeCompleto>o.nomeCompleto?-1:0)}),this.criarFormulario()}criarFormulario(){this.formulario=this.formulador.group({key:[this.projeto.key,a.n.required],responsavel:[this.projeto.responsavel,a.n.required],dataInicio:[this.projeto.dataInicioResponsavel,a.n.required],dataFim:[this.projeto.dataFimResponsavel,a.n.required],nome:[this.projeto.nome,a.n.required]})}ajustarDatas(){this.projeto.dataInicioResponsavel&&(this.projeto.dataInicioResponsavel=this.projeto.dataInicioResponsavel.includes("/")?this.projeto.dataInicioResponsavel:r.a.dateFormatterBrazil(this.projeto.dataInicioResponsavel)),this.projeto.dataFimResponsavel&&(this.projeto.dataFimResponsavel=this.projeto.dataFimResponsavel.includes("/")?this.projeto.dataFimResponsavel:r.a.dateFormatterBrazil(this.projeto.dataFimResponsavel))}associar(){this.formulario.value&&(this.formulario.value.dataFim&&!r.a.verificarIsDataValida(this.formulario.value.dataFim)?this.mensagens.mensagemError("A data informada no campo 'Data Fim' n\xe3o \xe9 v\xe1lida."):this.formulario.value.dataInicio&&!r.a.verificarIsDataValida(this.formulario.value.dataInicio)?this.mensagens.mensagemError("A data informada no campo 'Data In\xedcio' n\xe3o \xe9 v\xe1lida."):r.a.isDataFutura(this.formulario.value.dataInicio)?this.mensagens.mensagemError("N\xe3o \xe9 permitido data futura para o campo 'Data In\xedcio'"):r.a.isDataDoisMaiorDataUm(this.formulario.value.dataInicio,this.formulario.value.dataFim)&&!r.a.isDatasIguais(this.formulario.value.dataFim,this.formulario.value.dataInicio)?this.mensagens.mensagemError("A 'Data In\xedcio' n\xe3o pode ser maior que a 'Data Fim'."):r.a.isDatasIguais(this.formulario.value.dataInicio,this.formulario.value.dataFim)?this.mensagens.mensagemError("As datas 'Data In\xedcio' e 'Data Fim' n\xe3o podem ser iguais."):r.a.numeroDiasEntreDuasDatas(this.formulario.value.dataInicio,this.formulario.value.dataFim)>=731?this.mensagens.mensagemError("O respons\xe1vel pode assumir um cargo com dura\xe7\xe3o m\xe1xima de dois anos."):(this.projeto=class{static formularioToProjeto(o,t){return t.responsavel=o.responsavel,t.dataInicioResponsavel=o.dataInicio,t.dataFimResponsavel=o.dataFim,t}}.formularioToProjeto(this.formulario.value,this.projeto),this.projetoService.adicionarOuAtualizar(this.projeto),this.mensagens.mensagemSucesso("Associa\xe7\xe3o realizada com sucesso!")))}}return o.\u0275fac=function(t){return new(t||o)(c.Lb(a.a),c.Lb(m.a),c.Lb(n.M),c.Lb(d.a),c.Lb(s.g))},o.\u0275cmp=c.Fb({type:o,selectors:[["app-projeto"]],decls:39,vars:9,consts:[["color","primary"],["slot","start"],["defaultHref","lista/projeto/ativos"],["padding",""],[3,"formGroup"],[1,"row-item"],["mode","md","position","stacked",1,"titulo-dado"],["mode","md","formControlName","nome","type","text",3,"disabled"],["mode","md","position","stacked",1,"titulo-dado-select"],["placeholder","Selecione uma op\xe7\xe3o","formControlName","responsavel","multiple","false","interface","popover",3,"selectedText"],[3,"value",4,"ngFor","ngForOf"],["mode","md","formControlName","dataInicio","maxlength","10",3,"brmasker"],["mode","md","formControlName","dataFim","maxlength","10",3,"brmasker"],[1,"ion-no-border"],["no-padding","","id","rodape"],["mode","md","type","submit","fill","solid","expand","full",3,"disabled","click"],[3,"value"]],template:function(o,t){1&o&&(c.Ob(0,"ion-header"),c.Ob(1,"ion-toolbar",0),c.Ob(2,"ion-buttons",1),c.Mb(3,"ion-back-button",2),c.Nb(),c.Ob(4,"ion-title"),c.ic(5,"Associar projeto"),c.Nb(),c.Nb(),c.Nb(),c.Ob(6,"ion-content",3),c.Ob(7,"form",4),c.Ob(8,"ion-grid"),c.Ob(9,"ion-row"),c.Ob(10,"ion-col"),c.Ob(11,"ion-item",5),c.Ob(12,"ion-label",6),c.ic(13,"Projeto"),c.Nb(),c.Mb(14,"ion-input",7),c.Nb(),c.Nb(),c.Nb(),c.Ob(15,"ion-row"),c.Ob(16,"ion-col"),c.Ob(17,"ion-label",8),c.ic(18,"Respons\xe1vel"),c.Nb(),c.Ob(19,"ion-select",9),c.hc(20,u,2,2,"ion-select-option",10),c.Nb(),c.Nb(),c.Nb(),c.Ob(21,"ion-row"),c.Ob(22,"ion-col"),c.Ob(23,"ion-item",5),c.Ob(24,"ion-label",6),c.ic(25,"Data de In\xedcio"),c.Nb(),c.Mb(26,"ion-input",11),c.Nb(),c.Nb(),c.Ob(27,"ion-col"),c.Ob(28,"ion-item",5),c.Ob(29,"ion-label",6),c.ic(30,"Data Fim"),c.Nb(),c.Mb(31,"ion-input",12),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(32,"ion-footer",13),c.Ob(33,"ion-toolbar",14),c.Ob(34,"ion-grid"),c.Ob(35,"ion-row"),c.Ob(36,"ion-col"),c.Ob(37,"ion-button",15),c.Wb("click",function(){return t.associar()}),c.ic(38," Associar"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&o&&(c.Bb(7),c.bc("formGroup",t.formulario),c.Bb(7),c.bc("disabled",!0),c.Bb(5),c.bc("selectedText",t.formulario.get("responsavel").value),c.Bb(1),c.bc("ngForOf",t.membrosAtivos),c.Bb(6),c.bc("brmasker",c.cc(7,p)),c.Bb(5),c.bc("brmasker",c.cc(8,p)),c.Bb(6),c.bc("disabled",t.formulario.invalid))},directives:[n.l,n.E,n.g,n.d,n.e,n.D,n.i,a.o,a.k,a.d,n.k,n.v,n.h,n.o,n.r,n.n,n.L,a.j,a.c,n.x,n.K,i.i,a.f,b.a,n.j,n.f,n.y],styles:[".titulo-dado[_ngcontent-%COMP%], .titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}#rodape[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{--background:#e6e6e6}.titulo-dado[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{color:#2e2e3c}h2[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:Lexend,sans-serif}ion-input[_ngcontent-%COMP%]{text-transform:uppercase;font-size:9pt}ion-select[_ngcontent-%COMP%]{font-size:10pt}#cabecalho[_ngcontent-%COMP%]{--background:#2e2e3c;color:#fff}.titulo-dado[_ngcontent-%COMP%]{font-size:11pt}.titulo-dado-batismo[_ngcontent-%COMP%], .titulo-dado-select[_ngcontent-%COMP%], .titulo-dado-select-acesso[_ngcontent-%COMP%]{font-size:8.3pt}.titulo-dado-select[_ngcontent-%COMP%]{margin-left:1%}.titulo-dado-batismo[_ngcontent-%COMP%]{margin-left:4%}h2[_ngcontent-%COMP%]{font-size:13pt;font-weight:bolder;margin-left:1%}span[_ngcontent-%COMP%]{color:#eb445a}  .mycomponent-wider-popover{--width:95%;--max-width:600px}"]}),o})()}];let h=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.Jb({type:o}),o.\u0275inj=c.Ib({imports:[[s.i.forChild(f)],s.i]}),o})(),g=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.Jb({type:o}),o.\u0275inj=c.Ib({imports:[[i.c,a.e,n.F,h,a.m,b.b]]}),o})()}}]);